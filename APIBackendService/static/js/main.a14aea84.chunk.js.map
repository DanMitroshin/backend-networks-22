{"version":3,"sources":["pages/AdminStatisticsPage/styles.module.scss","pages/StudentStatisticsPage/styles.module.scss","pages/RatingPage/styles.module.scss","pages/ProfilePages/AdminProfilePage/styles.module.scss","pages/LandingPage/styles.module.scss","components/UI/AppCircularProgress/styles.module.scss","components/AppInput/styles.module.scss","components/Content/styles.module.scss","components/AppSelectedList/styles.module.scss","components/AppGraph/styles.module.scss","components/AppModal/styles.module.scss","components/Header/styles.module.scss","components/AppActivityIndicator/styles.module.scss","components/AppButton/styles.module.scss","components/UI/ProgressLine/styles.module.scss","components/UI/CardAchievement/styles.module.scss","containers/EnterForm/styles.module.scss","components/AppLogo/styles.module.scss","components/AppWhiteBlock/styles.module.scss","assets/media/polygon.png","constants/index.jsx","components/Header/index.jsx","helpers/networks.jsx","helpers/RequestWrapper.jsx","store/actions/content.jsx","store/types.jsx","components/Content/index.jsx","pages/ClassroomPage/index.jsx","components/AppLogo/index.jsx","components/AppActivityIndicator/index.jsx","components/AppModal/index.jsx","components/AppButton/index.jsx","components/AppInput/index.jsx","components/AppWhiteBlock/index.jsx","components/UI/ProgressLine/index.jsx","components/UI/CardAchievement/index.jsx","pages/ProfilePages/AdminProfilePage/index.jsx","pages/ProfilePages/StudentProfilePage/index.jsx","pages/ProfilePages/ProfilePage/index.jsx","pages/CompetitionPage/index.jsx","constants/THEME.jsx","pages/RatingPage/index.jsx","containers/EnterForm/index.jsx","components/UI/AppCircularProgress/index.jsx","pages/LandingPage/index.jsx","components/AppSelectedList/index.jsx","components/AppGraph/index.jsx","pages/AdminStatisticsPage/InnerPages/users.jsx","pages/AdminStatisticsPage/InnerPages/products.jsx","pages/AdminStatisticsPage/InnerPages/conversions.jsx","pages/AdminStatisticsPage/InnerPages/activity.jsx","pages/AdminStatisticsPage/InnerPages/productsRating.jsx","pages/AdminStatisticsPage/index.jsx","store/actions/statistics.jsx","routers/AdminStatisticsRouter.jsx","pages/StudentStatisticsPage/index.jsx","routers/index.jsx","store/reducers/user.jsx","store/reducers/token.jsx","store/reducers/content.jsx","store/reducers/statistics.jsx","store/index.jsx","index.js"],"names":["module","exports","MAIN_URL","ADMIN_STATISTICS_URL","METRICS","DB_SP","DB_PATH","USER","N","INIT","CONTENT","STATISTICS","METRIC","DB_URL","COOKIES_NAMES","STATUS_USER_COOKIES","ROLES","SECTIONS","anc","name","ren","mod","PERIODS","description","PERSONS","TAGS","da","tag","pe","ev","ec","re","te","ma","cu","wa","po","ca","tr","studentElements","key","link","teacherElements","adminElements","Header","onClick","role","elements","className","styles","header_main","header__inner","map","elem","header_elem","document","title","TimeoutPromise","ms","promise","totalMs","Promise","resolve","reject","timeoutId","setTimeout","Error","then","res","clearTimeout","err","httpGet","a","request","token","headers","fetch","method","response","ok","json","message","status","type","toString","console","warn","httpPost","body","length","JSON","stringify","GetCorrectRequest","RequestWrapper","children","useCookies","cookie","setCookie","removeCookie","dispatch","useDispatch","AddNewError","error","notification","id","Date","now","SetErrorToken","path","SetRole","result","is_teacher","is_staff","SetRoleRequest","GETWithToken","InnerHandler","handler","meta","code","strong_access","e","log","CheckerRequest","login","first","GET","PROPS","REQUEST","POST","CREATED","EXIT","GET_USER_INFO","SET_ADMIN_ROLE","VALUES","ROLE","STATUS","TOKEN","ErrorMessage","date","cn","request_error","green_notification","request_error_time","getHours","getMinutes","getSeconds","withRouter","history","style","useState","firstRequest","setFirstRequest","deleteCounter","setDeleteCounter","p","useEffect","ERRORS","useSelector","state","content","notifications","c","hasHeader","location","pathname","cookies","window","scroll","push","content_main","request_error_block","filter","i","content_without_header","ClassroomPage","AppLogo","container","alt","src","require","AppActivityIndicator","myType","animated","animated_small","AppModal","modalVisible","setModalVisible","canCloseOnBackdrop","showLoading","WrapperFunction","modal_background","active","modal_div","active_inner","stopPropagation","AppButton","props","button","button_red","button_orange","AppInput","label","placeholder","value","setValue","maxLength","editable","onChange","setActive","field_input","inactive","not_editable","input","contentEditable","target","onFocus","onBlur","AppWhiteBlock","block","ProgressLine","done","all","height","borderRadius_","styleParameter","borderRadius","opacity","width","borderBottomStartRadius","borderTopStartRadius","textProgress","progress","text","progressDone","CardAchievement","wrapper","progressContainer","roles","compareAchievements","b","v","reducerSum","acc","current","is_open","userData","findIndex","el","activeRole","setActiveRole","nickname","setNickname","firstName","setFirstName","lastName","setLastName","email","setEmail","data","first_name","last_name","achievements","setAchievements","achLoading","setAchLoading","ans","mass","sort","reduce","statistics","setStatistics","statLoading","setStatLoading","screen","div_row","div_user_data","justifyContent","paddingLeft","paddingRight","head_text","input_div","div_column","white_block","marginBottom","achievements_list","ach","div_row_settings","div_settings","inner_div_settings","roles_list","role_elem","role_active","StudentProfilePage","setName","marginTop","marginLeft","username","ProfilePage","loading","setLoading","onGetInfo","ErrorPage","ShowPage","page","setPage","AdminProfilePage","CompetitionPage","THEME","BestPrev","index","color","u","split","bestThreeElem","bestThreeHead","backgroundColor","bestThreePlace","n","bestThreeName","overflow_single","bestThreeValue","r","TableElem","place","user","isMe","tableElemView","tableElemText","textAlign","RatingPage","prev","setPrev","setData","setUser","d","h","time","setTime","day","previous","absolute_fill","zIndex","top","left","right","mainScrollView","prevWeekView","subtitle","bestThreeView","newWeekView","newWeekTitleView","newWeekTimeLeft","ratingView","undefined","EnterForm","onEnter","setLogin","password","setPassword","setError","main_div","head_form","numbers","AppCircularProgress","strokeWidth","percentage","header","centerBeginText","minHeight","beginRadius","fontSize","animatedText","onNext","Math","round","blocksAmount","currentBlock","setCurrentBlock","activeHover","setActiveHover","firstTime","setFirstTime","circleData","setCircleData","dA","PI","radius","dashArray","fO","dashOffset","onHover","headerOpacity","setHeaderOpacity","headerText","setHeaderText","centerText","setCenterText","display","alignItems","flexDirection","x","y","svg_style","svg_on_focus","circle_background","circle_active","cx","cy","onMouseEnter","onMouseLeave","circle_progress","focusable","strokeDasharray","strokeDashoffset","circle_text","dy","textAnchor","div_numbers_array","num","div_number","div_number_active","FullScreen","classname","full_screen","PageSection","this","React","Component","afterEnter","random","setRadius","setX","setY","getElementById","svg","addEventListener","clientX","clientY","maskUnits","fill","text_text","circle","back_image","mask","image","first_body","goToAnchor","white_box","centered_div","circular_right_header","AppSelectedList","activeIndex","setActiveIndex","nameColumn","onChoose","listStyle","elementStyle","showList","setShowList","main_inactive","minWidth","main_block","s","main_element","list_block","not_shown_list","list_element","makeDataFrom","dataType","series","useR","datums","Array","max","makeSeries","start","startDate","setMinutes","setSeconds","setMilliseconds","min","rMin","rMax","nullChance","_","j","getTime","primary","secondary","floor","lineColors","grayColors","MyChart","datumFormat","primaryAxisType","showLabels","activePoint","setActivePoint","elementType","activeDatumIndex","activeSeriesIndex","setState","useMemo","axes","position","show","format","stacked","axes3","Data","loadingMode","setLoadingMode","GetColor","config","getSeriesStyle","useCallback","med","median","transition","getDatumStyle","datum","seriesIndex","otherHovered","focused","clicked","LoadingData","setLoadingData","showPoints","chart_container","graph_name","loading_div","grouping","secondaryAxisID","secondaryCursor","tooltip","anchor","show_labels_container","label_object","colored_label_line","label_name","bigLabel","AppGraph","TimeData","EntersTypeData","ENTERS_METRICS","short_label","StatisticUsersPage","data1","setData1","data2","setData2","data3","setData3","data4","setData4","data5","setData5","innerTime","setInnerTime","entersType","setEntersType","SimpleGraphDataRequest","METRICS_NAMES","GetEntersGraph","metric","setD","dates","substr","GetTime","seconds","t","enters","sum","GetEntersData","screenId","graphics_container","graphics_line","graphic_elem","activity_div","head_div","activity_inner_div","marginRight","StatisticProductsPage","SelectedFirstMetrics","name1","name2","StatisticConversionsPage","setFirst","second","setSecond","CalculateMetric","R","xAxes","userDate","statMeanLabel","statMeanBigLabel","m","ConversionDataRequest","conversion_settings_div","conversion_div","Objects","Categories","Values","onlyCards","BordersTime","BordersCards","WithUsers","ChooseDiv","list","working","activity_inner_elem","activity_inner_elem_active","activity_inner_elem_disable","StatisticActivityPage","object","setObject","category","setCategory","border","setBorder","withUsers","setWithUsers","borderAmount","withUsersStr","ActivityDataRequest","messagesEndRef","useRef","setDatumFormat","scrollIntoView","behavior","ref","isTime","BestAmount","ListSide","StatisticProductsRatingPage","bestAmount","setBestAmount","listSide","setListSide","setValueColumn","topStr","ProductRatingDataRequest","valueColumn","div_loading","rating_products_div","rating_elem_div","borderBottomStyle","rating_number","rating_text","rating_name","rating_value","sec","GetCompletedTime","setHours","dataLeft","SelectedTimeData","InnerScreensList","AdminStatisticsPage","activeLeft","onChooseTime","SetTime","activeSelected","setActiveSelected","choose_stat_type_block","choose_stat_type","stat_elem","active_stat_elem","StatisticVariant","stat_header","stat_header_section_name","stat_time","main_content","AdminStatisticsRouter","exact","component","AddHeader","section","period","person","GetHeader","StatisticRow","meaning","row_div","row_text","row_number","StudentStatisticsPage","match","params","userType","setUserType","tags","setTags","questions","setQuestions","questionModal","setQuestionModal","questionId","setQuestionId","nextType","setNextType","amount","setAmount","linearProgress","setLinearProgress","setProgress","setRight","totalAttempts","setTotalAttempts","totalRight","setTotalRight","addHeader","GetStatistics","setType","linear_progress","total_attempts","total_right","next_type","Number","difficult","v_a","valid_answers","parse","onPrev","column_div","question","fontWeight","attempts","successful_attempts","head_line_div","head_history_div","div_header_elem","info_list","white_block_with_border","grid_div","score","maxWidth","div_question","overflow_div","question_number_right","question_number_wrong","MainRouter","LandingPage","to","initialState","userName","avatar","activeElemId","rootReducer","combineReducers","action","payload","createStore","applyMiddleware","thunk","ReactDOM","render","store","basename"],"mappings":"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","file":"static/js/main.a14aea84.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"choose_stat_type_block\":\"styles_choose_stat_type_block__19xcN\",\"choose_stat_type\":\"styles_choose_stat_type__B08mO\",\"stat_elem\":\"styles_stat_elem__26v79\",\"active_stat_elem\":\"styles_active_stat_elem__1aJFi\",\"stat_header\":\"styles_stat_header__2N95x\",\"stat_time\":\"styles_stat_time__F8BBe\",\"stat_header_section_name\":\"styles_stat_header_section_name__2RM6s\",\"main_content\":\"styles_main_content__C5Fsi\",\"graphics_container\":\"styles_graphics_container__28btR\",\"graphic_elem\":\"styles_graphic_elem__33_EE\",\"graphics_line\":\"styles_graphics_line__NcwwM\",\"div_loading\":\"styles_div_loading__3bxiF\",\"rating_products_div\":\"styles_rating_products_div__2qSHH\",\"rating_elem_div\":\"styles_rating_elem_div__dY_51\",\"rating_text\":\"styles_rating_text__2BXgt\",\"rating_number\":\"styles_rating_number__1enNt\",\"rating_name\":\"styles_rating_name__3POvT\",\"rating_value\":\"styles_rating_value__3QANh\",\"full_white_screen\":\"styles_full_white_screen__2jWuP\",\"conversion_div\":\"styles_conversion_div__1GeyA\",\"head_div\":\"styles_head_div__Zdaey\",\"activity_div\":\"styles_activity_div__271SX\",\"activity_inner_div\":\"styles_activity_inner_div__ZMlcW\",\"activity_inner_elem\":\"styles_activity_inner_elem__MLF8A\",\"activity_inner_elem_active\":\"styles_activity_inner_elem_active__23IJn\",\"activity_inner_elem_disable\":\"styles_activity_inner_elem_disable__1XDdA\",\"text_div\":\"styles_text_div__3zYYA\",\"conversion_settings_div\":\"styles_conversion_settings_div__37j1q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_div\":\"styles_main_div__NTnVQ\",\"white_block\":\"styles_white_block__2pAnR\",\"white_block_with_border\":\"styles_white_block_with_border__rcezl\",\"info_list\":\"styles_info_list__nES3F\",\"row_div\":\"styles_row_div__2HZo8\",\"column_div\":\"styles_column_div__3u-WM\",\"row_text\":\"styles_row_text__3DeKR\",\"row_number\":\"styles_row_number__2xpwq\",\"question_number_right\":\"styles_question_number_right__3ZRlZ\",\"question_number_wrong\":\"styles_question_number_wrong__mwjuJ\",\"grid_div\":\"styles_grid_div__1d-jL\",\"head_line_div\":\"styles_head_line_div__3xEbg\",\"head_history_div\":\"styles_head_history_div__LZjj7\",\"screen\":\"styles_screen__1rALI\",\"overflow_div\":\"styles_overflow_div__3Hth0\",\"overflow_single\":\"styles_overflow_single__Rvdnq\",\"div_question\":\"styles_div_question__3DwB6\",\"div_header_elem\":\"styles_div_header_elem__38u0b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"screen\":\"styles_screen__4trLF\",\"mainScrollView\":\"styles_mainScrollView__ypvmR\",\"title\":\"styles_title__1vCmg\",\"subtitle\":\"styles_subtitle__p7I3w\",\"description\":\"styles_description__x2bHQ\",\"prevWeekView\":\"styles_prevWeekView__2rZNs\",\"bestThreeView\":\"styles_bestThreeView__2A43Y\",\"bestThreeElem\":\"styles_bestThreeElem__3MdZ-\",\"bestThreeName\":\"styles_bestThreeName__3Oz7z\",\"bestThreePlace\":\"styles_bestThreePlace__3XHac\",\"bestThreeValue\":\"styles_bestThreeValue__2gLX6\",\"bestThreeHead\":\"styles_bestThreeHead__2dtLj\",\"newWeekView\":\"styles_newWeekView__3R3lp\",\"newWeekTitleView\":\"styles_newWeekTitleView__9EwR_\",\"newWeekTimeLeft\":\"styles_newWeekTimeLeft__1mOPV\",\"ratingView\":\"styles_ratingView__2ju8Q\",\"tableElemView\":\"styles_tableElemView__6P6HE\",\"tableElemText\":\"styles_tableElemText__21TUU\",\"place\":\"styles_place__1GYfN\",\"user\":\"styles_user__3Guo2\",\"value\":\"styles_value__1Jh29\",\"overflow_single\":\"styles_overflow_single__3fkvq\",\"absolute_fill\":\"styles_absolute_fill__33kaF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"role_elem\":\"styles_role_elem__2XUhd\",\"role_active\":\"styles_role_active__2tQC0\",\"roles_list\":\"styles_roles_list__1EAfa\",\"div_user_data\":\"styles_div_user_data__1N0_2\",\"input_div\":\"styles_input_div__2vJTy\",\"head_text\":\"styles_head_text__3M67T\",\"screen\":\"styles_screen__2AQWJ\",\"div_row\":\"styles_div_row__1gJ65\",\"div_column\":\"styles_div_column__3T1BK\",\"white_block\":\"styles_white_block__pP7oK\",\"achievements_list\":\"styles_achievements_list__3cS35\",\"div_row_settings\":\"styles_div_row_settings__BTt0g\",\"div_settings\":\"styles_div_settings__3R7Dx\",\"inner_div_settings\":\"styles_inner_div_settings__2pxwk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full_screen\":\"styles_full_screen__2dVXk\",\"white_box\":\"styles_white_box__1KAqS\",\"centered_div\":\"styles_centered_div__3c399\",\"svg\":\"styles_svg__xm_2S\",\"first_body\":\"styles_first_body__2prJN\",\"image\":\"styles_image__2L8OF\",\"back_image\":\"styles_back_image__B1Jic\",\"circle\":\"styles_circle__2-_Gj\",\"text_text\":\"styles_text_text__3JSwH\",\"title\":\"styles_title__2IL6a\",\"circular_div\":\"styles_circular_div__3xAaY\",\"circular_right_header\":\"styles_circular_right_header__3wyVZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle_background\":\"styles_circle_background__glN-H\",\"circle_progress\":\"styles_circle_progress__2oVXT\",\"circle_active\":\"styles_circle_active__3pCzD\",\"circle_text\":\"styles_circle_text__dzQUB\",\"circle_text_abs\":\"styles_circle_text_abs__HHwSH\",\"svg_style\":\"styles_svg_style__3pNmZ\",\"inactive\":\"styles_inactive__3bTa9\",\"active\":\"styles_active__1La52\",\"header\":\"styles_header__1VVy4\",\"textanim\":\"styles_textanim__lTL3e\",\"div_numbers_array\":\"styles_div_numbers_array__3tBn0\",\"div_number\":\"styles_div_number__3cjaD\",\"div_number_active\":\"styles_div_number_active__1KxBt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"styles_input__35lqp\",\"active\":\"styles_active__3SN1Z\",\"inactive\":\"styles_inactive__teONO\",\"not_editable\":\"styles_not_editable__1qLYM\",\"field_input\":\"styles_field_input__2w_l8\",\"label\":\"styles_label__3jzoh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content_main\":\"styles_content_main__Logqz\",\"content\":\"styles_content__Pe_BN\",\"content_without_header\":\"styles_content_without_header__1tCfK\",\"error\":\"styles_error__1HDIS\",\"head_form\":\"styles_head_form__3KKvd\",\"request_error_block\":\"styles_request_error_block__2F1Uj\",\"request_error\":\"styles_request_error__2npLo\",\"green_notification\":\"styles_green_notification__3XC7u\",\"request_error_time\":\"styles_request_error_time__1ETPc\",\"change\":\"styles_change__xtkNj\",\"date\":\"styles_date__HAB0T\",\"author\":\"styles_author__1vf_8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_div\":\"styles_main_div__tzKkm\",\"list_block\":\"styles_list_block__WvP8N\",\"not_shown_list\":\"styles_not_shown_list__35VHk\",\"main_block\":\"styles_main_block__qQxfB\",\"main_inactive\":\"styles_main_inactive__2romF\",\"main_element\":\"styles_main_element__24773\",\"list_element\":\"styles_list_element__1o0WQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart_container\":\"styles_chart_container__1gAD9\",\"show_labels_container\":\"styles_show_labels_container__3v61c\",\"label_object\":\"styles_label_object__3tZT1\",\"colored_label_line\":\"styles_colored_label_line__1qGgc\",\"loading_div\":\"styles_loading_div__2cIEO\",\"label_name\":\"styles_label_name__yYZyT\",\"graph_name\":\"styles_graph_name__1hJWn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal_background\":\"styles_modal_background__3IqAB\",\"active\":\"styles_active__f8nr6\",\"active_inner\":\"styles_active_inner__3HMue\",\"animation_modal\":\"styles_animation_modal__Enna9\",\"centered_div\":\"styles_centered_div__lZnmN\",\"modal_div\":\"styles_modal_div__3Vdym\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_main\":\"styles_header_main__1PiHg\",\"header__inner\":\"styles_header__inner__16mRd\",\"header_elem\":\"styles_header_elem__121TL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__HxjR1\",\"animated\":\"styles_animated__3V1Q2\",\"rotating\":\"styles_rotating__2iqm-\",\"animated_small\":\"styles_animated_small__3R4bs\",\"rotating_small\":\"styles_rotating_small__1z0tx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"styles_button__17PQ-\",\"button_orange\":\"styles_button_orange__1KYGh\",\"button_red\":\"styles_button_red__1SKMb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progress\":\"styles_progress__3Kyh4\",\"progressDone\":\"styles_progressDone__q9sIE\",\"appearing\":\"styles_appearing__2Ey_d\",\"text\":\"styles_text__aVkHw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__gKnzb\",\"title\":\"styles_title__pnLHe\",\"progressContainer\":\"styles_progressContainer__2UWhQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"styles_error__1yur5\",\"head_form\":\"styles_head_form__1LhOg\",\"main_div\":\"styles_main_div__BuZWP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2NWlA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"styles_block__35cDV\"};","module.exports = __webpack_public_path__ + \"static/media/polygon.e7d3efa6.png\";","// export const C_USER = {\r\n//     CHANGE_DATA: \"CHANGE_DATA\",\r\n//     CHANGE_AVATAR: \"CHANGE_AVATAR\",\r\n//     ADD_USER: \"ADD_USER\",\r\n//     REMOVE_USER: \"REMOVE_USER\"\r\n// };\r\n\r\nexport const START_URL = \"/app\";\r\n\r\nexport const MAIN_URL = {\r\n    ABOUTUS: \"/about_us\",\r\n    PROFILE: \"/profile\",\r\n    ADMIN_PROFILE: \"/adminprofile\",\r\n    STATISTICS: \"/statistics\",\r\n    APP_STATISTICS: \"/appstat\",\r\n    CLASSROOM: \"/classroom\",\r\n    COMPETITION: \"/competition\",\r\n    RATING: \"/rating\",\r\n    LANDING: \"/landing\",\r\n    NOT_FOUND: \"/notfound\",\r\n};\r\n\r\nexport const ADMIN_STATISTICS_URL = {\r\n    USERS: \"users\",\r\n    PRODUCTS: \"products\",\r\n    CONVERSIONS: \"conversions\",\r\n    ACTIVITY: \"activity\",\r\n    PRODUCTS_RATING: \"products_rating\",\r\n}\r\n\r\nexport const METRICS = {\r\n    UNIQUE_USERS: 'unique_users',\r\n    ENTERED_USERS: 'entered_users',\r\n    COMPLETED_PRODUCTS: 'completed_products',\r\n    USER_COMPLETED: 'user_completed',\r\n}\r\n\r\nexport const DB_SP = {\r\n    USER: \"user/\",\r\n    CONTENT: \"content/\",\r\n    STATISTICS: \"statistics/\",\r\n    LESSONS: \"lessons/\",\r\n    METRIC: \"metric/\",\r\n    INIT: \"init/\",\r\n\r\n}\r\n\r\nexport const DB_PATH = {\r\n    USER: {\r\n        N: DB_SP.USER,\r\n    },\r\n    INIT: {\r\n        N: DB_SP.INIT,\r\n    },\r\n    CONTENT: {\r\n        N: DB_SP.CONTENT,\r\n    },\r\n    STATISTICS: {\r\n        N: DB_SP.STATISTICS,\r\n        METRIC: {\r\n            N: DB_SP.STATISTICS + DB_SP.METRIC\r\n        }\r\n    }\r\n}\r\n\r\nexport const DB_URL = {\r\n    URL: \"https://mindon.space/api\",\r\n    SECOND_URL: \"http://185.148.82.169:8000\", //\"http://mindon.space\", //\"http://localhost:8080\",\r\n};\r\n\r\nexport const COOKIES_NAMES = {\r\n    TOKEN: \"token\",\r\n    ROLE: \"role\",\r\n    STATUS: \"status\",\r\n    USER_NAME: \"user_name\",\r\n    ACCEPT: \"accept\"\r\n}\r\n\r\nexport const STATUS_USER_COOKIES = {\r\n    USER: \"user\",\r\n    ADMIN: \"admin\",\r\n}\r\n\r\nexport const ROLES = {\r\n    STUDENT: \"student\",\r\n    TEACHER: \"teacher\",\r\n    ADMIN: \"admin\",\r\n}\r\n\r\nexport const DESIGN = {\r\n    MARGIN_TOP_HEADER: \"45px\",\r\n}\r\n\r\nexport const SECTIONS = {\r\n    anc: {name: \"Древность и средневековье\"},\r\n    ren: {name: \"Новое время\"},\r\n    mod: {name: \"Новейшее время\"},\r\n}\r\n\r\nexport const PERIODS = {\r\n    \"01\" : {name: \"IX – XII вв.\" , description : \"Образование Древнерусского государства Киевской Руси\"},\r\n    \"02\" : {name: \"XII – XIII вв.\", description: \"Период феодальной раздроблености, начало монгольского владычества\"},\r\n    \"03\" : {name: \"Конец XIII – первая половина XV в.\", description: \"Возвышение Москвы, начало объединения русских земель\"},\r\n    \"04\" : {name: \"Вторая половина XV – начало XVI в.\", description: \"Завершение объединения русских земель вокруг Москвы, образование Русского централизованного государства\"},\r\n    \"05\" : {name: \"XVI – XVII вв.\", description: \"Становление российского самодержавия, смутное время, правление первых Романовых\"},\r\n    \"06\" : {name: \"XVIII – конец XIX в.\", description: \"Становление и расцвет Российской империи\"},\r\n    \"07\" : {name: \"Конец XIX – начало XX в.\", description: \"Падение Российской империи, Временное правительство России\"},\r\n    \"08\" : {name: \"XX в.\", description: \"Советская республика\"},\r\n    \"09\" : {name: \"Конец XX – начало XXI в.\", description: \"Российская Федерация \"},\r\n}\r\n\r\nexport const PERSONS = {\r\n    \"1\": {name: \"Иван III Васильевич\", description:\t\"1462 - 1505\"},\r\n    \"2\": {name: \"Василий III Иванович\", description: \"1505 - 1533\"},\r\n    \"3\": {name: \"Елена Васильевна Глинская (регент при Иване IV)\", description:\t\"1533 - 1548\"},\r\n    \"4\": {name: \"Иван IV Васильевич \\\"Грозный\\\"\", description:\t\"1548 - 1584\"},\r\n    \"5\": {name: \"Федор I Иванович\", description: \"1584 - 1598\"},\r\n    \"6\": {name: \"Борис Федорович Годунов\", description:\t\"1598 - 1605\"},\r\n    \"7\": {name: \"Федор Борисович Годунов\", description:\t\"1605 - 1605\"},\r\n    \"8\": {name: \"Лжедмитрий I\", description: \"1605 - 1606\"},\r\n    \"9\": {name: \"Василий IV Шуйский\", description: \"1606 - 1610\"},\r\n    \"10\": {name: \"Семибоярщина\", description: \"1610 - 1612\"},\r\n    \"11\": {name: \"Михаил Федорович Романов\", description: \"1613 - 1645\"},\r\n    \"12\": {name: \"Алексей Михайлович Романов Тишайший\", description: \"1645 - 1676\"},\r\n    \"13\": {name: \"Федор Алексеевич Романов\", description: \"1676 - 1682\"},\r\n    \"14\": {name: \"Софья Алексеевна Романова (регент при Петре I и Иване V)\", description: \"1682 - 1689\"},\r\n    \"15\": {name: \"Петр I Алексеевич\", description: \"1689 - 1725\"},\r\n    \"16\": {name: \"Екатерина I Алексеевна\", description: \"1725 - 1727\"},\r\n    \"17\": {name: \"Петр II Алексеевич\", description: \"1727 - 1730\"},\r\n    \"18\": {name: \"Анна Иоанновна\", description: \"1730 - 1740\"},\r\n    \"19\": {name: \"Иван VI Антонович (свергнут малолетним)\", description: \"1740 - 1741\"},\r\n    \"20\": {name: \"Елизавета Петровна\", description: \"1741 - 1761\"},\r\n    \"21\": {name: \"Петр III Федорович\", description: \"1761 - 1762\"},\r\n    \"22\": {name: \"Екатерина II Алексеевна\", description: \"1762 - 1796\"},\r\n    \"23\": {name: \"Павел I Петрович\", description: \"1796 - 1801\"},\r\n    \"24\": {name: \"Александр I Павлович\", description: \"1801 - 1825\"},\r\n    \"25\": {name: \"Николай I Павлович\", description: \"1825 - 1855\"},\r\n    \"26\": {name: \"Александр II Николаевич\", description: \"1855 - 1881\"},\r\n    \"27\": {name: \"Александр III Александрович\", description: \"1881 - 1894\"},\r\n    \"28\": {name: \"Николай II Александрович\", description: \"1894 - 1917\"},\r\n    \"29\": {name: \"Период Временного правительства\", description: \"1917\"},\r\n    \"30\": {name: \"Ленин Владимир Ильич\", description: \"1917 - 1924\"},\r\n    \"31\": {name: \"Сталин Иосиф Виссарионович\", description: \"1924 - 1953\"},\r\n    \"32\": {name: \"Хрущёв Никита Сергеевич\", description: \"1953 - 1964\"},\r\n    \"33\": {name: \"Брежнев Леонид Ильич\", description: \"1964 - 1982\"},\r\n    \"34\": {name: \"Андропов Юрий Владимирович\", description: \"1982 - 1984\"},\r\n    \"35\": {name: \"Черненко Константин Устинович\", description: \"1984 - 1985\"},\r\n    \"36\": {name: \"Горбачёв Михаил Сергеевич\", description: \"1985 - 1991\"},\r\n    \"37\": {name: \"Ельцин Борис Николаевич\", description: \"1991 - 1999\"},\r\n    \"38\": {name: \"Путин Владимир Владимирович\", description: \"1999 - 2008\"},\r\n    \"39\": {name: \"Медведев Дмитрий Анатольевич\", description: \"2008 - 1012\"},\r\n    \"40\": {name: \"Путин Владимир Владимирович\", description: \"2012 - наши дни\"},\r\n}\r\n\r\nexport const TAGS = {\r\n    da: { name: \"Даты\", tag: \"da\" },\r\n    pe: { name: \"Личности\", tag: \"pe\"},\r\n    ev: { name: \"События\", tag: \"ev\"},\r\n    ec: { name: \"Экономика\", tag: \"ec\" },\r\n    re: { name: \"Реформы\", tag: \"re\" },\r\n    te: { name: \"Термины и понятия\", tag: \"te\" },\r\n    ma: { name: \"Карты и география\", tag: \"ma\" },\r\n    cu: { name: \"Наука и культура\", tag: \"cu\" },\r\n    wa: { name: \"Войны и битвы\", tag: \"wa\" },\r\n    po: { name: \"Власть и политика\", tag: \"po\" },\r\n    ca: { name: `Причинно-следственные связи`, tag: \"ca\" },\r\n    tr: { name: \"Мирные соглашения и договоры\", tag: \"tr\" },\r\n};","import React, {useEffect} from 'react';\r\nimport styles from \"./styles.module.scss\";\r\nimport {COOKIES_NAMES, MAIN_URL, ROLES} from \"../../constants\";\r\n\r\nconst studentElements = [\r\n    {\r\n        key: \"0\",\r\n        name: \"Занятия\",\r\n        link: MAIN_URL.CLASSROOM,\r\n    },\r\n    {\r\n        key: \"1\",\r\n        name: \"Рейтинг\",\r\n        link: MAIN_URL.RATING,\r\n    },\r\n    {\r\n        key: \"2\",\r\n        name: \"Моя статистика\",\r\n        link: MAIN_URL.STATISTICS,\r\n    },\r\n    {\r\n        key: \"3\",\r\n        name: \"Соревнования\",\r\n        link: MAIN_URL.COMPETITION,\r\n    },\r\n    {\r\n        key: \"4\",\r\n        name: \"Профиль\",\r\n        link: MAIN_URL.PROFILE,\r\n    }\r\n]\r\n\r\nconst teacherElements = [\r\n    {\r\n        key: \"0\",\r\n        name: \"Занятия\",\r\n        link: MAIN_URL.CLASSROOM,\r\n    },\r\n    {\r\n        key: \"1\",\r\n        name: \"Мои ученики\",\r\n        link: MAIN_URL.RATING,\r\n    },\r\n    {\r\n        key: \"2\",\r\n        name: \"Профиль\",\r\n        link: MAIN_URL.PROFILE,\r\n    }\r\n]\r\n\r\nconst adminElements = [\r\n    {\r\n        key: \"0\",\r\n        name: \"Занятия\",\r\n        link: MAIN_URL.CLASSROOM,\r\n    },\r\n    {\r\n        key: \"1\",\r\n        name: \"Статистика\",\r\n        link: MAIN_URL.APP_STATISTICS,\r\n    },\r\n    {\r\n        key: \"2\",\r\n        name: \"Профиль\",\r\n        link: MAIN_URL.PROFILE,\r\n    }\r\n]\r\n\r\nfunction Header({onClick, role}) {\r\n\r\n    const elements = role === ROLES.TEACHER ? teacherElements :\r\n        (role === ROLES.ADMIN ? adminElements : studentElements);\r\n\r\n    return <div className={styles.header_main}>\r\n        <div className={styles.header__inner}>\r\n            {elements.map(elem =>\r\n                <div key={elem.key} className={styles.header_elem} onClick={() => {\r\n                    onClick(elem.link);\r\n                    document.title = elem.name;\r\n                }}>\r\n                    {elem.name}\r\n                </div>\r\n            )}\r\n        </div>\r\n    </div>;\r\n}\r\n\r\n\r\nexport default Header;\r\n","import {DB_URL} from \"../constants\";\r\n\r\nconst TimeoutPromise = ({ms = 10000, promise}) => {\r\n    const totalMs = ms || 10000;\r\n    return new Promise((resolve, reject) => {\r\n        const timeoutId = setTimeout(() => {\r\n            // {status: 408, json: {}, message: \"Превышено время ожидания запроса\"}\r\n            reject(new Error(\"Превышено время ожидания запроса\"))\r\n        }, totalMs);\r\n        promise.then(\r\n            (res) => {\r\n                clearTimeout(timeoutId);\r\n                resolve(res);\r\n            },\r\n            (err) => {\r\n                clearTimeout(timeoutId);\r\n                reject(err);\r\n            }\r\n        );\r\n    })\r\n}\r\n\r\nexport const httpGet = async ({request, token = \"\", ms = 10000}) => {\r\n    try {\r\n        let headers = {\r\n            \"Content-Type\": \"application/json\"\r\n        };\r\n        if (token) {\r\n            headers = {\r\n                'Authorization': 'Token ' + token,\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        }\r\n        const response = await TimeoutPromise({ms, promise: fetch(`${DB_URL.URL}/${request}`, {\r\n            method: 'GET',\r\n            headers: headers\r\n        })});\r\n        if (response.ok) {\r\n            //console.log(\"GET OK\", response);\r\n            const json = await response.json();\r\n            return {json: json, message: \"\", status: 200, type: 0}\r\n        } else {\r\n            let message = \"\";\r\n            if (response.status === 400) {\r\n                message = \"Ошибка запроса: неверно составленный запрос\"\r\n            } else if (response.status === 401) {\r\n                message = \"Пользователь не авторизован\"\r\n            } else if (response.status === 404) {\r\n                message = \"Пользователь не найден\"\r\n            } else if (response.status === 409) {\r\n                message = \"Пользователь с таким логином уже существует\"\r\n            } else if (response.status === 403) {\r\n                message = \"Ошибка доступа\"\r\n            } else {\r\n                message = \"Ошибка, код \" + response.status.toString(10)\r\n            }\r\n            //const json = await response.json();\r\n            return {json: {}, message: message, status: response.status, type: 1}\r\n        }\r\n    } catch (err) {\r\n        console.warn('httpGet error ', err);\r\n        return {json: {}, message: err.toString(), status: 0, type: 2}\r\n    }\r\n};\r\n\r\nexport const httpPost = async ({request, token = \"\", body, ms = 10000}) => {\r\n    try {\r\n        let headers = {\r\n            \"Content-Type\": \"application/json\"\r\n        };\r\n        if (token.length > 0) {\r\n            headers = {\r\n                'Authorization': 'Token ' + token,\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        }\r\n        const response = await TimeoutPromise({ms, promise: fetch(`${DB_URL.URL}/${request}`, {\r\n            method: 'POST',\r\n            headers: headers,\r\n            body: JSON.stringify(body)\r\n        })});\r\n        if (response.ok) {\r\n            //console.log(\"POST OK\", response);\r\n            const json = await response.json();\r\n            return {json: json, message: \"\", status: 200, type: 0}\r\n        } else {\r\n            let message = \"\";\r\n            //console.log(\"RRR\", response);\r\n            if (response.status === 400) {\r\n                message = \"Неверно составленный запрос, жалуйся на разработчиков...\"\r\n            } else if (response.status === 401) {\r\n                message = \"Пользователь не авторизован\"\r\n            } else if (response.status === 404) {\r\n                message = \"Мы очень хотели, но не нашли такого пользователя :(\"\r\n            } else if (response.status === 409) {\r\n                message = \"Пользователь с таким логином уже существует! Не притворяйся:)\"\r\n            } else if (response.status === 403) {\r\n                message = \"Ошибка доступа\"\r\n            } else {\r\n                message = \"Ошибка, код \" + response.status.toString(10)\r\n            }\r\n            const json = {};//await response.json();\r\n            return {json: json, message: message, status: response.status, type: 1}\r\n        }\r\n    } catch (err) {\r\n        console.warn('httpPost error ', err);\r\n        return {json: {}, message: err.toString(), status: 0, type: 2}\r\n    }\r\n};","import React from 'react';\r\nimport { useCookies } from 'react-cookie';\r\nimport {COOKIES_NAMES, ROLES, STATUS_USER_COOKIES} from \"../constants\";\r\nimport {httpGet, httpPost} from \"./networks\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {addNotification} from \"../store/actions/content\";\r\n\r\n\r\nconst GetCorrectRequest = (request) => {\r\n    if (typeof request === 'string') {\r\n        return request\r\n    } else {\r\n        return request.N\r\n    }\r\n}\r\n\r\nconst RequestWrapper = (children) => {\r\n    const [cookie, setCookie, removeCookie] = useCookies(\r\n        [COOKIES_NAMES.TOKEN, COOKIES_NAMES.ROLE, COOKIES_NAMES.STATUS]);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const AddNewError = (error) => {\r\n        dispatch(addNotification({...error, id: Date.now()}))\r\n    }\r\n\r\n    const SetErrorToken = () => {\r\n        removeCookie(COOKIES_NAMES.TOKEN, {path: '/'});\r\n        removeCookie(COOKIES_NAMES.ROLE, {path: '/'});\r\n        removeCookie(COOKIES_NAMES.STATUS, {path: '/'})\r\n    }\r\n\r\n    const SetRole = ({result}) => {\r\n        if (result.json.is_teacher) {\r\n            setCookie(COOKIES_NAMES.ROLE, ROLES.TEACHER, {path: '/'})\r\n            setCookie(COOKIES_NAMES.STATUS, STATUS_USER_COOKIES.USER, {path: '/'})\r\n        } else if (result.json.is_staff) {\r\n            setCookie(COOKIES_NAMES.STATUS, STATUS_USER_COOKIES.ADMIN, {path: '/'})\r\n            if (!cookie.role) {\r\n                setCookie(COOKIES_NAMES.ROLE, ROLES.ADMIN, {path: '/'})\r\n            }\r\n        } else {\r\n            setCookie(COOKIES_NAMES.ROLE, ROLES.STUDENT, {path: '/'})\r\n            setCookie(COOKIES_NAMES.STATUS, STATUS_USER_COOKIES.USER, {path: '/'})\r\n        }\r\n    }\r\n\r\n    const SetAdminRole = (role) => {\r\n        if (cookie.status === STATUS_USER_COOKIES.ADMIN) {\r\n            setCookie(COOKIES_NAMES.ROLE, role, {path: '/'})\r\n        }\r\n    }\r\n\r\n    const SetRoleRequest = ({token = cookie.token}) => {\r\n        GETWithToken({request: \"user/\", token}).then(result => SetRole({result}))\r\n    }\r\n\r\n    const CheckerRequest = ({result, meta}) => {\r\n        try {\r\n            if (result.status === 401) {\r\n                SetErrorToken()\r\n                AddNewError({code: 401, message: \"Ошибка авторизации\"});\r\n                return false\r\n            } else if (result.status === 403) {\r\n                if (meta.strong_access) {\r\n                    SetRoleRequest({});\r\n                }\r\n                AddNewError({code: 403, message: \"Ошибка доступа\"})\r\n                return false\r\n            } else if (result.status !== 200) {\r\n                AddNewError({code: result.status || 0, message: result.message})\r\n                return false\r\n            }\r\n            //AddNewError({code: 200, message: \"Всё ок!\"})\r\n            return true\r\n        } catch (e) {\r\n            console.log(\"Checker error\", e);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    const InnerHandler = ({result, handler, meta}) => {\r\n        try {\r\n            const isCorrect = CheckerRequest({result, meta})\r\n            if (!isCorrect) {\r\n                console.log(\"Checker catch errors:\", result.message)\r\n            } else {\r\n                if (meta.login) {\r\n                    const token = result.json[\"Token\"];\r\n                    //SetRoleRequest({token});\r\n                    setCookie(COOKIES_NAMES.TOKEN, token, {path: '/'})\r\n                    SetRoleRequest({token});\r\n                }\r\n                if (meta.first) {\r\n                    SetRole({result});\r\n                }\r\n            }\r\n        } catch (e) {\r\n\r\n        }\r\n        if (handler) {\r\n            return handler(result)\r\n        } else {\r\n            return Promise.resolve(result)\r\n        }\r\n    }\r\n\r\n    const onExit = () => {\r\n        SetErrorToken()\r\n    }\r\n\r\n    const onGetUserInfo = () => {\r\n        return GET({request: \"user/\"})\r\n    }\r\n\r\n    const GETWithToken = ({request, handler, token, meta = {}}) => {\r\n        return httpGet({request: GetCorrectRequest(request), token, ms: meta.ms})\r\n            .then(result => InnerHandler({result, handler, meta}))\r\n    }\r\n\r\n    const GET = ({request, handler, meta = {}}) => {\r\n        return httpGet({request: GetCorrectRequest(request), token: cookie.token, ms: meta.ms})\r\n            .then(result => InnerHandler({result, handler, meta}))\r\n    }\r\n\r\n    const POST = ({request, body, handler, meta = {}}) => {\r\n        return httpPost({request: GetCorrectRequest(request), body, token: cookie.token, ms: meta.ms})\r\n            .then(result => InnerHandler({result, handler, meta}))\r\n    }\r\n\r\n    const PROPS = {\r\n        REQUEST: {\r\n            GET,\r\n            POST,\r\n            CREATED: {\r\n                EXIT: onExit,\r\n                GET_USER_INFO: onGetUserInfo,\r\n                SET_ADMIN_ROLE: SetAdminRole,\r\n            },\r\n            VALUES: {\r\n                ROLE: cookie.role,\r\n                STATUS: cookie.status,\r\n                TOKEN: cookie.token,\r\n            }\r\n        },\r\n    }\r\n\r\n\r\n    if (typeof children === 'function') {\r\n        return children(PROPS)\r\n    }\r\n\r\n    return PROPS\r\n\r\n\r\n}\r\n\r\n\r\nexport default RequestWrapper;","import {ADD_NOTIFICATION, DELETE_NOTIFICATION, DELETE_ALL_NOTIFICATIONS} from \"../types\";\r\n\r\nexport const addNotification = (notification) => {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: ADD_NOTIFICATION,\r\n            notification\r\n        });\r\n    };\r\n};\r\n\r\nexport const deleteNotification = (notification) => {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: DELETE_NOTIFICATION,\r\n            notification\r\n        });\r\n    };\r\n};\r\n\r\nexport const deleteAllNotifications = () => {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: DELETE_ALL_NOTIFICATIONS,\r\n        });\r\n    };\r\n};","export const SET_USER_DATA = 'SET_USER_DATA';\r\nexport const UPDATE_USER = 'UPDATE_USER';\r\nexport const REMOVE_USER = 'REMOVE_USER';\r\nexport const VK_USER = 'VK_USER';\r\nexport const SET_TOKEN = 'SET_TOKEN';\r\nexport const SET_TOKEN_FROM_DB = 'SET_TOKEN_FROM_DB';\r\nexport const DELETE_TOKEN = 'DELETE_TOKEN';\r\nexport const SET_ERROR_TOKEN = 'SET_ERROR_TOKEN';\r\nexport const SET_ACTIVE_LESSON_STATE = 'SET_ACTIVE_LESSON_STATE';\r\n\r\n// CONTENT\r\nexport const ADD_NOTIFICATION = 'ADD_NOTIFICATION';\r\nexport const DELETE_NOTIFICATION = 'DELETE_NOTIFICATION';\r\nexport const DELETE_ALL_NOTIFICATIONS = 'DELETE_ALL_NOTIFICATIONS';\r\n\r\n// STATISTICS\r\nexport const SET_TIME = 'SET_TIME'\r\nexport const SET_MENU_ELEMENT_ID = 'SET_MENU_ELEMENT_ID'","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./styles.module.scss\";\r\n// import {NavLink} from \"react-router-dom\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport cn from 'classnames';\r\nimport Header from \"../Header\";\r\n// import {AppModal} from \"../AppModal\";\r\n// import AppInput from \"../AppInput\";\r\n//import AppButton from \"../AppButton\";\r\nimport { useCookies } from 'react-cookie';\r\nimport {COOKIES_NAMES, DB_PATH, MAIN_URL} from \"../../constants\";\r\nimport RequestWrapper from \"../../helpers/RequestWrapper\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {deleteNotification} from \"../../store/actions/content\";\r\n\r\n\r\nconst ErrorMessage = ({error}) => {\r\n    const date = new Date(error.id);\r\n    return <div className={cn(styles.request_error, error.code === 200 && styles.green_notification)}>\r\n        <div>\r\n        {error.message + \" \"}\r\n        </div>\r\n        <div className={styles.request_error_time}>\r\n            {\r\n                date.getHours().toString()\r\n            }:\r\n            {\r\n                date.getMinutes().toString().length === 1 ?\r\n                    \"0\" + date.getMinutes().toString() : date.getMinutes().toString()\r\n            }:\r\n            {\r\n                date.getSeconds().toString().length === 1 ?\r\n                \"0\" + date.getSeconds().toString() : date.getSeconds().toString()\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\nfunction Content({history, children, style={}}) {\r\n\r\n    //const [context, setContext] = useContext(Context);\r\n\r\n    // const [counter, setCounter] = useState(1)\r\n    const [firstRequest, setFirstRequest] = useState(false);\r\n    const [deleteCounter, setDeleteCounter] = useState(0);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const ChangePage = (name) => {\r\n        window.scroll(0, 0);\r\n        history.push(name);\r\n    }\r\n\r\n    const {REQUEST} = RequestWrapper( (p) => ({...p}))\r\n\r\n    useEffect(() => {\r\n        if (!firstRequest && REQUEST.VALUES.TOKEN) {\r\n            setFirstRequest(true)\r\n            REQUEST.GET({request: DB_PATH.USER, meta: {first: true}})\r\n                .then(res => {\r\n                    console.log(\"Res CHECK first:\", res)\r\n                    setFirstRequest(true);\r\n                })\r\n        }\r\n        setFirstRequest(true);\r\n    }, [firstRequest])\r\n\r\n    const ERRORS = useSelector(state => state.content.notifications);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            if (ERRORS.length && ERRORS.length > deleteCounter) {\r\n                setTimeout(() => {\r\n                        dispatch(deleteNotification(ERRORS[deleteCounter]))\r\n                        setDeleteCounter(c => c - 1)\r\n                    },\r\n                    4000)\r\n                setDeleteCounter(c => c + 1)\r\n            }\r\n            console.log(\"NOTIFICATIONS! Length:\", ERRORS.length, \" toDelete:\", deleteCounter)\r\n        } catch (e) {\r\n            console.log(\"Delete error\", e)\r\n        }\r\n    }, [ERRORS, deleteCounter])\r\n\r\n    const hasHeader = history.location.pathname.toString() !== MAIN_URL.LANDING;\r\n\r\n    // const [login, setLogin] = useState(\"denis_2\")\r\n    // const [password, setPassword] = useState(\"denis_2denis_2\")\r\n    // const [error, setError] = useState(\"\")\r\n\r\n    const [cookies, setCookie, removeCookie] = useCookies([COOKIES_NAMES.TOKEN, COOKIES_NAMES.ROLE]);\r\n\r\n    // function onSetToken(newToken) {\r\n    //     setCookie(COOKIES_NAMES.TOKEN, newToken, { path: '/', maxAge: 60*60*24*30*2 }); // 2 month\r\n    // }\r\n\r\n    // const onLogin = () => {\r\n    //     //console.log(\"Start auth\");\r\n    //     setError(\"\");\r\n    //     if (login === \"\" || password === \"\") {\r\n    //         setError(\"Заполните все поля\");\r\n    //     } else {\r\n    //         httpGet({\r\n    //             request: `auth/?username=${login}&password=${password}`,\r\n    //         }).then((res) => {\r\n    //             if (res.message) {\r\n    //                 setError(\"Ошибка: \" + res.message);\r\n    //             } else {\r\n    //                 onSetToken(res[\"json\"][\"Token\"])\r\n    //             }\r\n    //         });\r\n    //     }\r\n    // }\r\n\r\n    // const SetErrorToken = () => {\r\n    //     removeCookie(COOKIES_NAMES.TOKEN, {path: '/'});\r\n    // }\r\n    //\r\n    // const onCheckRequest = (req) => {\r\n    //     try {\r\n    //         if (req.status === 401) {\r\n    //             SetErrorToken()\r\n    //         }\r\n    //     } catch (e) {\r\n    //         console.log(\"Checker error\", e);\r\n    //     }\r\n    // }\r\n\r\n    //const ContentContext = React.createContext({onCheckRequest});\r\n\r\n    //const token = useSelector((state) => state.token.token);\r\n\r\n    useEffect(() => {\r\n        console.log(\"COOKIES NEW\")\r\n        //console.log(\"History\", history)\r\n        //setModal(!cookies.token)\r\n        if (!cookies.token) {\r\n            window.scroll(0, 0);\r\n            history.push(MAIN_URL.LANDING);\r\n        }\r\n    }, [cookies])\r\n\r\n    // useEffect(() => {\r\n    //     console.log(\"Errors in CONTENT\", ERRORS)\r\n    // }, [ERRORS])\r\n\r\n    // const [modal, setModal] = useState(false)\r\n\r\n    //console.log(\"Type content children:\", typeof children)\r\n\r\n    return <div className={styles.content_main}>\r\n        {hasHeader && <Header onClick={ChangePage} role={cookies.role}/>}\r\n        <div className={styles.request_error_block}>\r\n            {ERRORS.filter((e, i) => i < 3)\r\n                .map((error, i) => <ErrorMessage error={error} key={i}/>)}\r\n        </div>\r\n        {/*<AppModal*/}\r\n        {/*    setModalVisible={() => setModal(false)}*/}\r\n        {/*    modalVisible={modal}*/}\r\n        {/*    canCloseOnBackdrop={false}*/}\r\n        {/*>*/}\r\n        {/*    <div className={styles.head_form}>Войти</div>*/}\r\n        {/*    <div>*/}\r\n        {/*        <AppInput label=\"Логин\" value={login} setValue={setLogin}*/}\r\n        {/*                  placeholder=\"Введите логин\"/>*/}\r\n        {/*        <AppInput label=\"Пароль\" value={password} setValue={setPassword}*/}\r\n        {/*                  placeholder=\"Введите пароль\" type=\"password\"/>*/}\r\n        {/*    </div>*/}\r\n        {/*    <div className={styles.error}>{error}</div>*/}\r\n        {/*    <AppButton onClick={() => {}}>Войти</AppButton>*/}\r\n        {/*</AppModal>*/}\r\n        <div className={cn(styles.content, !hasHeader && styles.content_without_header)} style={style}>\r\n            {/*{children}*/}\r\n            {typeof children === 'function' ? RequestWrapper((p) => children({...p})) : children}\r\n        </div>\r\n    </div>;\r\n}\r\n\r\n\r\nexport default withRouter(Content);\r\n","import React, {useEffect} from 'react';\r\n// import styles from \"./styles.module.scss\";\r\nimport Content from \"../../components/Content\";\r\n\r\n\r\nfunction ClassroomPage() {\r\n\r\n    useEffect(() => {\r\n        document.title = \"Занятия\";\r\n    }, [])\r\n\r\n    return <div>\r\n        <h1>ЗАНЯТИЯ</h1>\r\n    </div>\r\n}\r\n\r\nexport default ClassroomPage;\r\n","import React from \"react\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\nexport const AppLogo = () => {\r\n\r\n    return <div className={styles.container}>\r\n        <img alt=\"logo\"\r\n            src={require(\"../../assets/media/polygon.png\")}\r\n        />\r\n    </div>\r\n};","import React  from \"react\";\r\nimport {AppLogo} from \"../AppLogo/index\"\r\nimport styles from \"./styles.module.scss\";\r\n//import cn from \"classnames\";\r\n\r\nexport const AppActivityIndicator = ({style={}, type=\"big\"}) => {\r\n    const myType = type === \"big\" ? \"big\" : \"small\";\r\n    return (\r\n            <div className={styles.container}>\r\n                <div className={myType === \"big\" ? styles.animated : styles.animated_small}>\r\n                    <AppLogo />\r\n                </div>\r\n            </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport styles from \"./styles.module.scss\";\r\nimport cn from 'classnames';\r\nimport {AppActivityIndicator} from \"../AppActivityIndicator\";\r\n\r\n\r\nexport const AppModal=({modalVisible, setModalVisible, children,\r\n                           canCloseOnBackdrop=true, showLoading=false}) => {\r\n\r\n    const WrapperFunction = canCloseOnBackdrop ? () => setModalVisible(false) : () => {};\r\n\r\n    return <div\r\n        className={modalVisible ? cn(styles.modal_background, styles.active) : styles.modal_background}\r\n        onClick={WrapperFunction}\r\n    >\r\n        {showLoading ? <AppActivityIndicator/> :\r\n            <div className={modalVisible ? cn(styles.modal_div, styles.active_inner) : styles.modal_div}\r\n                 onClick={e => e.stopPropagation()}>\r\n                {children}\r\n            </div>\r\n        }\r\n    </div>\r\n};\r\n","import React from \"react\";\r\nimport styles from './styles.module.scss';\r\n\r\nimport cn from 'classnames';\r\n\r\nconst AppButton = (\r\n    {\r\n        children,\r\n        onClick = () => {},\r\n        style = {},\r\n        type = \"orange\",\r\n        // height_ = \"40px\",\r\n        // width_ = \"200px\",\r\n        ...props\r\n    }) => {\r\n\r\n    return <button\r\n        className={cn(styles.button,\r\n            type === \"red\" && styles.button_red,\r\n            type === \"orange\" && styles.button_orange)}\r\n        onClick={onClick}\r\n        style={{...style}}\r\n        {...props}\r\n    >\r\n        {children}\r\n    </button>;\r\n\r\n};\r\n\r\n\r\nexport default AppButton;\r\n","import React, {useState} from \"react\";\r\nimport cn from \"classnames\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\nfunction AppInput(\r\n    {\r\n        label= \"\",\r\n        placeholder = \"\",\r\n        value = \"\",\r\n        setValue = () => {},\r\n        maxLength = 60,\r\n        type = \"text\",\r\n        editable = true,\r\n        ...props}) {\r\n    const onChange = editable ? setValue : (e) => {}\r\n\r\n    const [active, setActive] = useState(false);\r\n\r\n    return <div className={cn(styles.field_input,\r\n        active && editable ? styles.active : styles.inactive,\r\n        !editable && styles.not_editable\r\n    )}>\r\n        <label className={cn(styles.label,\r\n            active && editable ? styles.active : styles.inactive,\r\n            !editable && styles.not_editable)}>\r\n            {label}\r\n        </label>\r\n        <input className={cn(styles.input, !editable && styles.not_editable)}\r\n               value={value}\r\n               placeholder={placeholder}\r\n               maxLength={maxLength}\r\n               type={type}\r\n               contentEditable={\"false\"}\r\n               onChange={ e => onChange(e.target.value)}\r\n               onFocus={(e) => {\r\n                   setActive(true)\r\n                   // console.log(e)\r\n               }}\r\n               onBlur={(e) => {\r\n                   setActive(false);\r\n                   //console.log(\"ACTIVE\", e)\r\n               }}\r\n               {...props}\r\n        />\r\n    </div>;\r\n}\r\n\r\n\r\nexport default AppInput;\r\n","import React from \"react\";\r\nimport styles from \"./styles.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nexport const AppWhiteBlock = ({ children, style={}, className}) => {\r\n\r\n    return (\r\n        <div className={cn(styles.block, className)} style={{...style}}>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\nexport const ProgressLine = (\r\n    {\r\n        done,\r\n        all = 100,\r\n        height = 30,\r\n        borderRadius_ = 9,\r\n    }) => {\r\n\r\n    const styleParameter = {\r\n        height: height,\r\n        borderRadius: borderRadius_,\r\n    };\r\n    let style = {\r\n        opacity: 1,\r\n        width: `${done}%`,\r\n        height: height,\r\n        borderRadius: borderRadius_,\r\n        borderBottomStartRadius: borderRadius_,\r\n        borderTopStartRadius: borderRadius_,\r\n    };\r\n    let textProgress = `${done}%`;\r\n    if (all !== 100) {\r\n        textProgress = `${done}/${all}`;\r\n        const percent = (100 / all) * done;\r\n        style = {\r\n            borderRadius: borderRadius_,\r\n            opacity: 1,\r\n            borderBottomStartRadius: borderRadius_,\r\n            borderTopStartRadius: borderRadius_,\r\n            width: `${percent}%`,\r\n            height: height,\r\n        };\r\n    }\r\n\r\n    if (done === all) {\r\n        style = {\r\n            borderRadius: borderRadius_,\r\n            borderBottomStartRadius: borderRadius_,\r\n            borderTopStartRadius: borderRadius_,\r\n            ...style,\r\n        };\r\n    }\r\n    return (\r\n        <div className={styles.progress} style={{ ...styleParameter }}>\r\n            <div className={styles.text}>\r\n                {textProgress}\r\n            </div>\r\n            <div className={styles.progressDone} style={{ ...style }}/>\r\n        </div>\r\n    );\r\n};","import React, { useState } from \"react\";\r\nimport { ProgressLine } from \"./../ProgressLine/index\";\r\nimport styles from \"./styles.module.scss\"\r\n\r\n\r\nexport const CardAchievement = ({ all = 100, done, name, i=0, onClick = () => {} }) => {\r\n    // const [modalVisible, setModalVisible] = useState(false);\r\n    // const all = card.achievements.length;\r\n    // const done = card.achievements.reduce(reducerSum, 0)\r\n    return (\r\n                <div className={styles.wrapper} key={i.toString()} onClick={onClick}>\r\n                    <div className={styles.progressContainer}>\r\n                        <div className={styles.title}>{name}</div>\r\n                        <ProgressLine done={done} all={all} height={24} />\r\n                    </div>\r\n                </div>\r\n    );\r\n};","import React, {useEffect, useState} from 'react';\r\nimport AppButton from \"../../../components/AppButton\";\r\nimport RequestWrapper from \"../../../helpers/RequestWrapper\";\r\nimport {MAIN_URL, ROLES, SECTIONS} from \"../../../constants\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport cn from 'classnames';\r\nimport styles from \"./styles.module.scss\";\r\nimport AppInput from \"../../../components/AppInput\";\r\nimport {AppWhiteBlock} from \"../../../components/AppWhiteBlock\";\r\nimport {CardAchievement} from \"../../../components/UI/CardAchievement\";\r\nimport {AppActivityIndicator} from \"../../../components/AppActivityIndicator\";\r\n\r\nconst roles = [\r\n    {key: 0, name: ROLES.ADMIN,},\r\n    {key: 1, name: ROLES.STUDENT},\r\n    {key: 2, name: ROLES.TEACHER}\r\n]\r\n\r\nfunction compareAchievements( a, b ) {\r\n    if ( a.v < b.v ) {\r\n        return -1;\r\n    }\r\n    if ( a.v > b.v ) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nconst reducerSum = (acc, current) => acc + (current.is_open ? 1 : 0);\r\n\r\nfunction AdminProfilePage({history, userData}) {\r\n\r\n    const {REQUEST} = RequestWrapper()\r\n\r\n    const [activeRole, setActiveRole] = useState(roles.findIndex(el => el.name === REQUEST.VALUES.ROLE));\r\n\r\n    const [name, setName] = useState(\"who?\")\r\n    const [nickname, setNickname] = useState(\"\")\r\n    const [firstName, setFirstName] = useState(\"\")\r\n    const [lastName, setLastName] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n\r\n    // const [loading, setLoading] = useState(true);\r\n\r\n    const onExit = () => {\r\n        REQUEST.CREATED.EXIT()\r\n    }\r\n\r\n    const RoleElem = (role) => {\r\n        return <div onClick={() => {\r\n            REQUEST.CREATED.SET_ADMIN_ROLE(role.name);\r\n            setActiveRole(role.key)\r\n        }}\r\n                    key={role.key.toString()}\r\n                    className={cn(styles.role_elem, role.key === activeRole && styles.role_active)}\r\n        >\r\n            {role.name}\r\n        </div>\r\n    }\r\n\r\n    const toUsualProfile = () => {\r\n        history.push(MAIN_URL.PROFILE);\r\n    }\r\n\r\n    const DataDict = {\r\n        first_name: {\r\n            value: firstName,\r\n            setValue: setFirstName,\r\n        },\r\n        last_name: {\r\n            value: lastName,\r\n            setValue: setLastName\r\n        },\r\n        nickname: {\r\n            value: nickname,\r\n            setValue: setNickname,\r\n        },\r\n        email: {\r\n            value: email,\r\n            setValue: setEmail\r\n        }\r\n    }\r\n\r\n    const SetUserData = (data) => {\r\n        setFirstName(data.first_name || \"\")\r\n        setLastName(data.last_name || \"\")\r\n        setNickname(data.nickname || \"\")\r\n        setEmail(data.email || \"\")\r\n    }\r\n\r\n    useEffect(() => {\r\n        SetUserData(userData)\r\n    }, [])\r\n\r\n    const onGetInfo = () => {\r\n        REQUEST.CREATED.GET_USER_INFO().then(res => {\r\n            try {\r\n                console.log(\"AdminProfile user info:\", res.json)\r\n                if (!res.json.is_staff) {\r\n                    toUsualProfile();\r\n                    return;\r\n                }\r\n                setName(JSON.stringify(res.json))\r\n                //SetUserData(res.json)\r\n\r\n                // setLoading(false)\r\n            } catch (e) {\r\n                console.log(\"ERR\", e);\r\n            }\r\n        })\r\n    };\r\n\r\n    const [achievements, setAchievements] = useState([])\r\n    const [achLoading, setAchLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        REQUEST.GET({request: \"achievements/\"}).then(res => {\r\n            let ans = []\r\n            for (let key in res.json) {\r\n                let mass = res.json[key]\r\n                mass.sort(compareAchievements)\r\n                let elem = {\r\n                    name: key,\r\n                    all: mass.length,\r\n                    done: mass.reduce(reducerSum, 0)\r\n                }\r\n                ans.push(elem)\r\n            }\r\n            setAchievements(ans)\r\n            setAchLoading(false)\r\n            // console.log(res.json)\r\n        })\r\n    }, [])\r\n\r\n    const [statistics, setStatistics] = useState([])\r\n    const [statLoading, setStatLoading] = useState(true)\r\n\r\n    // const NamesSection = {\r\n    //     anc: \"Древность\",\r\n    //     ren: \"Новое время\",\r\n    //     mod: \"Новейшее время\"\r\n    // }\r\n\r\n    useEffect(() => {\r\n        REQUEST.GET({request: \"statistics/\"}).then(res => {\r\n            let ans = []\r\n            for (let key in res.json) {\r\n                let elem = {\r\n                    name: SECTIONS[key].name,\r\n                    all: 100,\r\n                    onClick: () => history.push(MAIN_URL.STATISTICS + '/' + key),\r\n                    done: res.json[key]\r\n                }\r\n                ans.push(elem)\r\n            }\r\n            setStatistics(ans)\r\n            setStatLoading(false)\r\n            // console.log(res.json)\r\n        })\r\n    }, [])\r\n\r\n\r\n    return <div className={styles.screen}>\r\n            <div className={styles.div_row}>\r\n                <AppWhiteBlock className={styles.div_user_data}\r\n                               style={{\r\n                                   justifyContent: \"flex-start\",\r\n                                   paddingLeft: \"30px\",\r\n                                   paddingRight: \"30px\",\r\n                               }}\r\n                >\r\n                    <div className={styles.head_text}>Профиль</div>\r\n                    <div className={styles.input_div}>\r\n                        <AppInput value={firstName} setValue={setFirstName} label=\"Имя\"\r\n                                  editable={false}/>\r\n                    </div>\r\n                    <div className={styles.input_div}>\r\n                        <AppInput value={lastName} setValue={setLastName} label=\"Фамилия\"/>\r\n                    </div>\r\n                    <div className={styles.input_div}>\r\n                        <AppInput value={nickname} setValue={setNickname} label=\"Никнейм\"/>\r\n                    </div>\r\n                    <div className={styles.input_div}>\r\n                        <AppInput value={email} setValue={setEmail} label=\"Email\"/>\r\n                    </div>\r\n                    <AppButton>SAVE</AppButton>\r\n                </AppWhiteBlock>\r\n                <div className={styles.div_column}>\r\n                    <AppWhiteBlock className={styles.white_block} style={{marginBottom: \"10px\"}}>\r\n                        <div className={styles.head_text}>Статистика</div>\r\n                        <div className={styles.achievements_list}>\r\n                            {statLoading ? <AppActivityIndicator type=\"small\"/> :\r\n                                statistics.map((ach, i) => CardAchievement({...ach, i}))}\r\n                        </div>\r\n                    </AppWhiteBlock>\r\n                    <AppWhiteBlock className={styles.white_block}>\r\n                        <div className={styles.head_text}>Достижения</div>\r\n                        <div className={styles.achievements_list}>\r\n                        {achLoading ? <AppActivityIndicator type=\"small\"/> :\r\n                            achievements.map((ach, i) => CardAchievement({...ach, i}))}\r\n                        </div>\r\n                    </AppWhiteBlock>\r\n                </div>\r\n            </div>\r\n        <div className={styles.div_row_settings}>\r\n        <AppWhiteBlock className={styles.div_settings}>\r\n            <div className={styles.inner_div_settings}>\r\n            <div className={styles.roles_list}>\r\n                <div className={styles.head_text}>Роль</div>\r\n                {roles.map(elem => RoleElem(elem))}\r\n            </div>\r\n            <AppButton onClick={onExit} type=\"red\">\r\n                Выйти\r\n            </AppButton>\r\n            </div>\r\n        </AppWhiteBlock>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default withRouter(AdminProfilePage);\r\n","import React, {useState} from 'react';\r\nimport AppButton from \"../../../components/AppButton\";\r\nimport RequestWrapper from \"../../../helpers/RequestWrapper\";\r\nimport {AppModal} from \"../../../components/AppModal\";\r\n\r\n\r\nfunction StudentProfilePage() {\r\n\r\n    const {REQUEST} = RequestWrapper()\r\n\r\n    const [name, setName] = useState(\"who?\")\r\n\r\n    const onExit = () => {\r\n        REQUEST.CREATED.EXIT()\r\n    }\r\n\r\n    const onGetInfo = () => {\r\n        REQUEST.GET({request: \"user/\"}).then(res => {\r\n            try {\r\n                console.log(\"Profile user info\", res.json)\r\n                setName(res.json.username)\r\n            } catch (e) {\r\n                console.log(\"ERR\", e);\r\n            }\r\n        })\r\n    };\r\n\r\n    return <div>\r\n        <h1>ПРОФИЛЬ STUDENT!</h1>\r\n        <div style={{marginTop: \"50px\", marginLeft: \"50px\"}}>\r\n            <AppButton onClick={onExit} type=\"red\" style={{marginBottom: \"50px\"}}>Выйти</AppButton>\r\n            <AppButton onClick={onGetInfo}>Проверка инфы</AppButton>\r\n            <p>You are {name}</p>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default StudentProfilePage;\r\n","import React, {useEffect, useState} from 'react';\r\nimport RequestWrapper from \"../../../helpers/RequestWrapper\";\r\nimport {AppModal} from \"../../../components/AppModal\";\r\nimport AdminProfilePage from \"../AdminProfilePage\";\r\nimport StudentProfilePage from \"../StudentProfilePage\";\r\n\r\n\r\nfunction ProfilePage() {\r\n\r\n    const {REQUEST} = RequestWrapper()\r\n\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        onGetInfo()\r\n    }, [])\r\n    \r\n    const onExit = () => {\r\n        REQUEST.CREATED.EXIT()\r\n    }\r\n\r\n    const ErrorPage = () => (\r\n        <div>\r\n            Ошибка. Перезагрузите страничку.\r\n        </div>\r\n    )\r\n\r\n    const ShowPage = () => {\r\n        setTimeout(() => setLoading(false), 300);\r\n    }\r\n\r\n    const [page, setPage] = useState(ErrorPage)\r\n\r\n    const onGetInfo = () => {\r\n        REQUEST.CREATED.GET_USER_INFO().then(res => {\r\n            try {\r\n                console.log(\"Profile user info\", res.json)\r\n                if (res.json.is_staff) {\r\n                    setPage((props) => AdminProfilePage({...props, userData: res.json}))\r\n                } else {\r\n                    setPage(StudentProfilePage)\r\n                }\r\n                ShowPage()\r\n            } catch (e) {\r\n                setPage(ErrorPage)\r\n                console.log(\"ERR\", e);\r\n                ShowPage();\r\n            }\r\n        })\r\n    };\r\n\r\n    // const onTest = () => {\r\n    //     return Promise.resolve(5 + 5)\r\n    // }\r\n    //\r\n    // useEffect(() => {\r\n    //     onTest().then(res => console.log(\"FIVE\", res))\r\n    // })\r\n\r\n    return <div>\r\n        {\r\n            loading ? <AppModal modalVisible={loading} setModalVisible={setLoading} showLoading={true} canCloseOnBackdrop={false}/> :\r\n                page\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default ProfilePage;\r\n","import React from 'react';\r\n// import styles from \"./styles.module.scss\";\r\n\r\n\r\nfunction CompetitionPage() {\r\n\r\n    // function Right (index) {\r\n    //     document.getElementById(index.toString()).classList.add(styles.right);\r\n    //     document.getElementById(index.toString()).classList.remove(styles.wrong)\r\n    // }\r\n    //\r\n    // function Wrong (index) {\r\n    //     document.getElementById(index.toString()).classList.remove(styles.right);\r\n    //     document.getElementById(index.toString()).classList.add(styles.wrong)\r\n    // }\r\n\r\n    return <div>\r\n        <h1>СОРЕВНОВАНИЯ</h1>\r\n    </div>\r\n}\r\n\r\nexport default CompetitionPage;\r\n","export const THEME = {\r\n    MAIN_COLOR: \"#303f9f\",\r\n    DANGER_COLOR: \"#D81B60\",\r\n    NOT_ACTIVE: \"#4d4d4d\",\r\n\r\n    ORANGE_500: \"#FF9900\",\r\n    ORANGE_400: \"#FFBA3F\",\r\n    ORANGE_300: \"#FFCE66\",\r\n    ORANGE_200: \"#FFE299\",\r\n\r\n    RED_500: \"#FF675B\",\r\n    RED_400: \"#FF9783\",\r\n    RED_300: \"#FFB49C\",\r\n    RED_200: \"#FFD2BD\",\r\n\r\n    BLUE_500: \"#4A5784\",\r\n    BLUE_400: \"#7988B5\",\r\n    BLUE_300: \"#A0B0DA\",\r\n    BLUE_200: \"#C8D4F2\",\r\n\r\n    GRAY_500: \"#2F4858\",\r\n    GRAY_400: \"#647E8F\",\r\n    GRAY_300: \"#AFC1CC\",\r\n    GRAY_200: \"#e6eef2\",\r\n    GRAY_50: \"#f5fafc\",\r\n\r\n    BACKGROUND_COLOR: \"#f5fafc\",\r\n\r\n    GREEN_100: \"#beffe6\",\r\n    GREEN_200: \"#58FFB8\",\r\n    GREEN_500: \"#00D077\",\r\n    PINK_200: \"#FABFC5\",\r\n    PINK_500: \"#D6578B\",\r\n\r\n    MAIN_FONT: \"PT-Sans\",\r\n    MAIN_FONT_BOLD: \"PT-Sans-bold\",\r\n    TEXT_FONT_BOLD: \"Roboto-Bold\",\r\n    TEXT_FONT_ITALIC: \"Roboto-Italic\",\r\n    TEXT_FONT_BOLD_ITALIC: \"Roboto-BoldItalic\",\r\n    TEXT_FONT: \"Roboto-Regular\",\r\n    TEXT_SIZE: 12,\r\n};","import React, {useState, useEffect} from 'react';\r\nimport AppButton from \"../../components/AppButton\";\r\nimport RequestWrapper from \"../../helpers/RequestWrapper\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\nimport {THEME} from \"../../constants/THEME\";\r\nimport {AppActivityIndicator} from \"../../components/AppActivityIndicator\";\r\nimport cn from 'classnames';\r\n\r\nconst GOLD = \"#ffce2a\"\r\nconst SILVER = \"#c4c4c4\"\r\nconst BRONZE = \"#d66800\"\r\n\r\nconst BestPrev = (elem, index) => {\r\n    const color = index === 1 ? GOLD : index === 2 ? SILVER : BRONZE;\r\n    const marginTop = index === 1 ? 0 : 20;\r\n    let name = elem.u.split(' ')\r\n    return <div className={styles.bestThreeElem} style={{marginTop}}>\r\n        <div className={styles.bestThreeHead} style={{backgroundColor: color}}>\r\n            <div className={styles.bestThreePlace}>\r\n                {`${index} МЕСТО`}\r\n            </div>\r\n        </div>\r\n        {name.map((n, i) =>\r\n        <div key={i.toString()} className={cn(styles.bestThreeName, styles.overflow_single)}>\r\n            {n}\r\n        </div>\r\n        )}\r\n        <div className={styles.bestThreeValue}>\r\n            {elem.r}\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\nconst TableElem = (place, user, value, index, isMe) => {\r\n    const backgroundColor = isMe ? THEME.ORANGE_300 : 'rgba(0, 0, 0, 0)'\r\n    const color = index === 1 ? GOLD : index === 2 ? SILVER : index === 3 ? BRONZE :\r\n        index === 0 ? 'rgba(0, 0, 0, 0)' : 'rgba(0, 0, 0, 0)';\r\n    return <div key={index.toString()} className={styles.tableElemView} style={{backgroundColor}}>\r\n        <div className={styles.place} style={{backgroundColor: color}}>\r\n            <div className={styles.tableElemText}>{place}</div>\r\n        </div>\r\n        <div className={styles.user}>\r\n            <div className={cn(styles.tableElemText, styles.overflow_single)}\r\n                 style={{textAlign: 'left'}}>{user}</div>\r\n        </div>\r\n        <div className={styles.value}>\r\n            <div className={styles.tableElemText}>\r\n                {value}\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\nfunction RatingPage({}) {\r\n\r\n    const [prev, setPrev] = useState([])\r\n    const [data, setData] = useState([])\r\n    const [user, setUser] = useState({})\r\n    const [time, setTime] = useState({d: 4, h: 22})\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    const {REQUEST} = RequestWrapper()\r\n\r\n    const GetData = () => {\r\n        REQUEST.GET({request: \"statistics/rating/?action=get\"}).then(res => {\r\n            setData(res.json.data)\r\n            setUser(res.json.user)\r\n            // console.log(\"USER RATING\", res.json.user)\r\n            setTime(res.json.day)\r\n            setPrev(res.json.previous)\r\n            setTimeout(() => setLoading(false), 500)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        GetData()\r\n    }, [])\r\n\r\n    const MIN_DATA_LENGTH = 7;\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className={styles.absolute_fill}\r\n            />\r\n        <div className={styles.screen}\r\n             //style={{backgroundColor: \"#fff\"}}\r\n        >\r\n            {/*<div*/}\r\n            {/*    className={styles.absolute_fill}*/}\r\n            {/*/>*/}\r\n            <div style={{\r\n                zIndex: 10,\r\n                //position: 'absolute',\r\n                top: 30, left: 0, right: 0, width: '100%'}}>\r\n                <div className={styles.title}>\r\n                    РЕЙТИНГ\r\n                </div>\r\n            </div>\r\n            {loading ? <AppActivityIndicator/> :\r\n                <div className={styles.mainScrollView}>\r\n                    {\r\n                        prev && prev.length >= 3 &&\r\n                        <div className={styles.prevWeekView}>\r\n                            <div className={styles.subtitle}>\r\n                                ПОБЕДИТЕЛИ ПРОШЛОЙ НЕДЕЛИ\r\n                            </div>\r\n                            <div className={styles.bestThreeView}>\r\n                                {BestPrev(prev[1], 2)}\r\n                                {BestPrev(prev[0], 1)}\r\n                                {BestPrev(prev[2], 3)}\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <div className={styles.newWeekView}>\r\n                        <div className={styles.newWeekTitleView}>\r\n                            <div className={styles.subtitle}>\r\n                                ЕЖЕНЕДЕЛЬНЫЙ ТУРНИР\r\n                            </div>\r\n                            <div className={styles.newWeekTimeLeft}>\r\n                                ОСТАЛОСЬ: {time.d}Д. {time.h}Ч\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.ratingView}>\r\n                            {TableElem(\"МЕСТО\", \"ПОЛЬЗОВАТЕЛЬ\", \"ОЧКИ\", 0)}\r\n                            {\r\n                                data.length >= MIN_DATA_LENGTH ? data.map((elem, i) =>\r\n                                        TableElem(i + 1, elem.u, elem.r, i + 1, i + 1 === user.place)) :\r\n                                    <div\r\n                                        className={styles.bestThreeName}\r\n                                        style={{color: \"#000000\", marginTop: 20}}>\r\n                                        Данные по рейтингу скоро появятся\r\n                                    </div>\r\n                            }\r\n                            {\r\n                                data.length >= MIN_DATA_LENGTH && user.place > 0 && user.place > data.length &&\r\n                                TableElem(user.place, user.u, user.r, user.place, true)\r\n                            }\r\n                            {\r\n                                data.length >= MIN_DATA_LENGTH &&\r\n                                (user.place <= 0 || user.place === undefined) && <div\r\n                                    className={styles.bestThreeName}\r\n                                    style={{color: \"#000000\", marginTop: 20}}>\r\n                                    Чтобы попасть в рейтинг, необходимо проходить тесты!\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        {/*<div style={{height: 20}}/>*/}\r\n                    </div>\r\n                </div>}\r\n        </div>\r\n            </>\r\n    );\r\n}\r\n\r\nexport default RatingPage;\r\n","import React, {useState} from 'react';\r\nimport styles from \"./styles.module.scss\";\r\nimport AppButton from \"../../components/AppButton\";\r\nimport AppInput from \"../../components/AppInput\";\r\nimport {AppWhiteBlock} from \"../../components/AppWhiteBlock\";\r\n\r\n\r\nfunction EnterForm({onEnter, REQUEST}) {\r\n\r\n    const [login, setLogin] = useState(\"vk__103159559\") // denis_2\r\n    const [password, setPassword] = useState(\"denis13011999dXyZ\") // denis_2denis_2\r\n    const [error, setError] = useState(\"\")\r\n\r\n    // const [cookies, setCookie] = useCookies([COOKIES_NAMES.TOKEN]);\r\n\r\n    // function onSetToken(newToken) {\r\n    //     setCookie(COOKIES_NAMES.TOKEN, newToken, { path: '/' }); // 2 month: maxAge: 60*60*24*30*2\r\n    //     if (newToken) {\r\n    //         onEnter();\r\n    //     }\r\n    // }\r\n\r\n    // const [person, setPerson] = useState(ROLES.STUDENT)\r\n\r\n    const onLogin = () => {\r\n        console.log(\"Start auth\");\r\n        setError(\"\");\r\n        if (login === \"\" || password === \"\") {\r\n            setError(\"Заполните все поля\");\r\n        } else {\r\n            REQUEST.GET({\r\n                request: `auth/?username=${login}&password=${password}`, meta: {login: true},\r\n                handler: (res) => {\r\n                    if (res.message) {\r\n                        setError(\"Ошибка: \" + res.message);\r\n                    } else {\r\n                        onEnter();\r\n                    }\r\n                }\r\n            })\r\n            // }).then((res) => {\r\n            //     if (res.message) {\r\n            //         setError(\"Ошибка: \" + res.message);\r\n            //     } else {\r\n            //         onEnter();\r\n                    // console.log(\"USER REQUEST JSON:\\n\", res.json)\r\n                    // const token = res[\"json\"][\"Token\"];\r\n                    // httpGet({request: \"user/\", token}).then(result => {\r\n                    //     try {\r\n                    //         console.log(\"USER\", result.json)\r\n                    //         if (result.json.is_staff) {\r\n                    //             setPerson(ROLES.ADMIN)\r\n                    //         } else if (result.json.is_teacher) {\r\n                    //             setPerson(ROLES.TEACHER)\r\n                    //         }\r\n                    //     } catch (e) {\r\n                    //         console.log(\"ERR\", e);\r\n                    //     }\r\n                    // })\r\n                    // onSetToken(token)\r\n                // }\r\n            //});\r\n        }\r\n    }\r\n\r\n    // const setUserInfo = () => {\r\n    //     httpGet({request: \"user/\" + userName, token}).then(res => {\r\n    //         try {\r\n    //             console.log(res.json)\r\n    //             setIsStaff(res.json.is_staff);\r\n    //             const localName = res.json.first_name + ' ' + res.json.last_name;\r\n    //             fromVK ? dispatch(updateVkUser({name: localName, userName})) : dispatch(updateUser({userName}));\r\n    //             setLoadingUserInfo(false);\r\n    //         } catch (e) {\r\n    //             console.log(\"ERR\", userName);\r\n    //             setLoadingUserInfo(false);\r\n    //         }\r\n    //     })\r\n    // };\r\n\r\n\r\n    // useEffect(() => {\r\n    //     console.log(\"token\", cookies.token)\r\n    //     //setModal(!cookies.token)\r\n    //     if (!cookies.token) {\r\n    //         onEnter();\r\n    //     }\r\n    // }, [cookies])\r\n\r\n    return <AppWhiteBlock>\r\n        <div className={styles.main_div}>\r\n        <div className={styles.head_form}>Войти</div>\r\n        {/*<div style={{width: '100%'}}>*/}\r\n            <AppInput label=\"Логин\" value={login} setValue={setLogin}\r\n                      placeholder=\"Введите логин\"/>\r\n            <AppInput label=\"Пароль\" value={password} setValue={setPassword}\r\n                      placeholder=\"Введите пароль\" type=\"password\"/>\r\n        {/*</div>*/}\r\n        <div className={styles.error}>{error}</div>\r\n        <AppButton onClick={onLogin}>Войти</AppButton>\r\n        </div>\r\n    </AppWhiteBlock>\r\n}\r\n\r\nexport default EnterForm;\r\n","import React, {useEffect, useState} from 'react';\r\nimport styles from './styles.module.scss';\r\nimport cn from 'classnames';\r\n\r\nconst numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n\r\nconst AppCircularProgress = (\r\n    {\r\n        //sqSize = 200,\r\n        //percentage = 0,\r\n        strokeWidth = 20,\r\n        data = [{id: 0, percentage: 20, name: \"Древность\"},\r\n            {id: 1, percentage: 70, name: \"Новое время\"},\r\n            {id: 2, percentage: 55, name: \"Новейшее время\"}],\r\n        hasHeader = true,\r\n        header = \"Прогресс\",\r\n        centerBeginText = \"\",\r\n        minHeight = \"370px\",\r\n        beginRadius = 60,\r\n        fontSize = \"24px\",\r\n        animatedText = true,\r\n        onNext = () => {},\r\n    }) => {\r\n\r\n    // const sqSize = this.props.sqSize;\r\n    // SVG centers the stroke width on the radius, subtract out so circle fits in square\r\n    //const radius = (sqSize - strokeWidth) / 2;\r\n    //const beginRadius = 60;\r\n    const indent = 3;\r\n    const oneBlockAmount = 5;\r\n    const [blocksAmount, setBlocksAmount] = useState(Math.round(data.length / oneBlockAmount))\r\n    const [currentBlock, setCurrentBlock] = useState(0)\r\n\r\n    const [activeHover, setActiveHover] = useState(-1)\r\n    const [firstTime, setFirstTime] = useState(true)\r\n\r\n    const [circleData, setCircleData] = useState([])\r\n\r\n    useEffect(() => {\r\n        setCircleData(data.filter((elem, i) =>\r\n            i >= currentBlock * oneBlockAmount && i < (currentBlock + 1) * oneBlockAmount).map((elem, i) => {\r\n            const r = beginRadius + i * (indent + strokeWidth);\r\n            const dA = r * Math.PI * 2;\r\n            return {\r\n                ...elem,\r\n                radius: r,\r\n                dashArray: dA,\r\n                fO: dA - dA * (elem.percentage ? elem.percentage : 1) / 100,\r\n                dashOffset: firstTime ? dA : dA - dA * (elem.percentage ? elem.percentage : 1) / 100\r\n            }}))\r\n    }, [currentBlock, oneBlockAmount, firstTime, data])\r\n\r\n    useEffect(() => {\r\n        //console.log(\"CIRCLE DATA\", data)\r\n        setTimeout(() => {\r\n            setCircleData(c => c.map(elem => ({...elem, dashOffset: elem.fO})))\r\n            setFirstTime(false)\r\n        }, 100)\r\n    }, [])\r\n\r\n    const onHover = (id) => {\r\n        setActiveHover(id)\r\n    }\r\n    const [headerOpacity, setHeaderOpacity] = useState('rgba(0, 0, 0, 1)')\r\n    const [headerText, setHeaderText] = useState(header)\r\n    const [centerText, setCenterText] = useState(centerBeginText)\r\n\r\n    useEffect(() => {\r\n        if (animatedText) {\r\n            setHeaderOpacity('rgba(0, 0, 0, 0)')\r\n            // setHeaderOpacity('rgba(0, 0, 0, 1)')\r\n            setTimeout(() => {\r\n                setHeaderOpacity('rgba(0, 0, 0, 1)');\r\n                setHeaderText(activeHover >= 0 ? circleData[activeHover].name : header)\r\n                setCenterText(activeHover >= 0 ? `${circleData[activeHover].percentage}%` : centerBeginText)\r\n            }, 300)\r\n        }\r\n    }, [activeHover])\r\n\r\n    return (\r\n        <div style={{\r\n            height: '100%', width: '100%',\r\n            //backgroundColor: \"red\",\r\n            minHeight,\r\n            display: 'flex', alignItems: 'stretch', justifyContent: 'center', flexDirection: 'column'}}\r\n        >\r\n            {hasHeader && <div className={styles.header}\r\n                               style={{color: headerOpacity, fontSize}}\r\n            >\r\n                {headerText}\r\n            </div>}\r\n        <svg\r\n            x=\"50%\"\r\n            y=\"50%\"\r\n            //viewBox={viewBox}\r\n            className={cn(styles.svg_style, activeHover >= 0 && styles.svg_on_focus)}\r\n            style={{minHeight,\r\n                //backgroundColor: \"red\"\r\n            }}\r\n            >\r\n            <g\r\n                //transform={`rotate(0.25turn)`}\r\n            >\r\n                {circleData.map((elem, i) => (\r\n                    <circle\r\n                        key={i.toString()}\r\n                        onClick={() => onNext(currentBlock * oneBlockAmount + i)}\r\n                        className={cn(styles.circle_background,\r\n                            activeHover === i && styles.circle_active\r\n                        )}\r\n                        cx=\"50%\"\r\n                        cy=\"50%\"\r\n                        onMouseEnter={() => onHover(i)}\r\n                        onMouseLeave={() => onHover(-1)}\r\n                        // onFocus={() => onHover(i)}\r\n                        // onBlur={() => onHover(-1)}\r\n                        r={elem.radius}\r\n                        strokeWidth={`${strokeWidth + indent}px`}\r\n                    >\r\n                        {/*<text*/}\r\n                        {/*    //x=\"50%\"*/}\r\n                        {/*    //y=\"50%\"*/}\r\n                        {/*    dy=\".3em\"*/}\r\n                        {/*    fill=\"#0f0\"*/}\r\n                        {/*    className={styles.circle_text}*/}\r\n                        {/*    textAnchor=\"middle\"*/}\r\n                        {/*    >*/}\r\n                        {/*    elem.id}*/}\r\n                        {/*</text>*/}\r\n                    </circle>))}\r\n                {circleData.map((elem, i) => (\r\n                    <circle\r\n                        key={i.toString()}\r\n                        className={cn(styles.circle_progress,\r\n                            activeHover >= 0 && activeHover !== i && styles.inactive,\r\n                            activeHover === i && styles.active\r\n                        )}\r\n                        cx=\"50%\"\r\n                        cy=\"50%\"\r\n                        focusable={true}\r\n                        onClick={() => onNext(currentBlock * oneBlockAmount + i)}\r\n                        onMouseEnter={() => onHover(i)}\r\n                        onMouseLeave={() => onHover(-1)}\r\n                        onFocus={() => onHover(i)}\r\n                        onBlur={() => onHover(i)}\r\n                        r={elem.radius}\r\n                        strokeWidth={`${strokeWidth}px`}\r\n                        style={{\r\n                            strokeDasharray: elem.dashArray,\r\n                            strokeDashoffset: elem.dashOffset\r\n                        }}\r\n                    />))}\r\n            </g>\r\n            <text\r\n                className={styles.circle_text}\r\n                style={{color: headerOpacity}}\r\n                x=\"50%\"\r\n                y=\"50%\"\r\n                dy=\".3em\"\r\n                textAnchor=\"middle\">\r\n                {centerText}\r\n            </text>\r\n        </svg>\r\n            {/*<div*/}\r\n            {/*    //style={{position: 'absolute'}}*/}\r\n            {/*>GGG</div>*/}\r\n            {blocksAmount > 1 && <div className={styles.div_numbers_array}>\r\n                {numbers.filter(num => num < blocksAmount).map((num, i) => {\r\n                    return <div\r\n                        className={cn(styles.div_number,\r\n                            num === currentBlock && styles.div_number_active)}\r\n                        onClick={() => setCurrentBlock(i)}\r\n                    >\r\n                        {num + 1}\r\n                    </div>\r\n                })}\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default AppCircularProgress","import React, {useEffect, useRef, useState} from 'react';\r\nimport styles from \"./styles.module.scss\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {MAIN_URL, PERSONS} from \"../../constants\";\r\nimport AppButton from \"../../components/AppButton\";\r\nimport EnterForm from \"../../containers/EnterForm\";\r\nimport ScrollableAnchor , { goToAnchor, removeHash }  from 'react-scrollable-anchor';\r\nimport RequestWrapper from \"../../helpers/RequestWrapper\";\r\nimport cn from \"classnames\";\r\nimport {THEME} from \"../../constants/THEME\";\r\nimport AppCircularProgress from \"../../components/UI/AppCircularProgress\";\r\n\r\nconst FullScreen = ({children, style={}, classname}) => {\r\n    return <div className={cn(styles.full_screen, classname)} style={style}>\r\n        {children}\r\n    </div>\r\n}\r\n\r\nclass PageSection extends React.Component {\r\n    render() {\r\n        return this.props.content\r\n    }\r\n}\r\n// PageSection.propTypes = {\r\n//     content: React.PropTypes.node.isRequired\r\n// }\r\n\r\n\r\nfunction LandingPage({history}) {\r\n\r\n    const afterEnter = () => {\r\n        window.scroll(0, 0);\r\n        history.push(MAIN_URL.PROFILE)\r\n    }\r\n\r\n    const {REQUEST} = RequestWrapper({children: (p) => ({...p})})\r\n\r\n    const exampleWithoutAuth = () => {\r\n        REQUEST.GET({request: \"statistics/\"}).then(res => console.log(\"UnAuth\", res.status))\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.title = \"Mind ON | История\";\r\n    }, [])\r\n\r\n    const [circleData, setCircleData] = useState([\r\n            {...PERSONS[\"28\"], percentage: 30},\r\n            {...PERSONS[\"29\"], percentage: 70},\r\n            {...PERSONS[\"30\"], percentage: 82},\r\n            {...PERSONS[\"31\"], percentage: 12},\r\n            {...PERSONS[\"32\"], percentage: 36}\r\n        ])\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setCircleData(c => c.map((elem) =>\r\n                ({...elem, percentage: Math.round(Math.random() * 100)})))\r\n        }, 2500)\r\n    }, [circleData])\r\n\r\n\r\n    const [radius, setRadius] = useState(150)\r\n    const [x, setX] = useState(0)\r\n    const [y, setY] = useState(0)\r\n\r\n    useEffect(() => {\r\n        // const img = document.getElementById(\"image\");\r\n        // const imgPos = img.getBoundingClientRect();\r\n        // var imgX = imgPos.left;\r\n        // var imgY = imgPos.top;\r\n        // var rect = document.getElementsByTagName(\"rect\")[1];\r\n        // var rectHalfWidth = rect.getAttribute(\"width\") / 2;\r\n        // var rectHalfHeight = rect.getAttribute(\"height\") / 2;\r\n        // img.addEventListener(\"mousemove\", function (e) {\r\n        //     rect.setAttribute(\"x\", e.clientX - imgX - rectHalfWidth);\r\n        //     rect.setAttribute(\"y\", e.clientY - imgY - rectHalfHeight);\r\n        // }, false);\r\n\r\n        const img = document.getElementById(\"circle\");\r\n        const svg = document.getElementById(\"svg\");\r\n        const title = document.getElementById(\"title\");\r\n        // const imgPos = img.getBoundingClientRect();\r\n        // var imgX = imgPos.left;\r\n        // var imgY = imgPos.top;\r\n        svg.addEventListener(\"mousemove\", function (e) {\r\n            // setX(500)\r\n            // setY(500)\r\n            setTimeout(() => {\r\n                setX(x => e.clientX)\r\n                setY(e.clientY)\r\n                // if (e.clientX < 300) {\r\n                //     setRadius(250)\r\n                // } else {\r\n                //     setRadius(150)\r\n                // }\r\n                setRadius(150)\r\n            }, 50)\r\n            // setX(e.clientX)\r\n            // setY(e.clientY)\r\n            //console.log(\"EVE\", e.clientX)\r\n            // img.setAttribute(\"cx\", e.clientX);\r\n            // img.setAttribute(\"cy\", e.clientY);\r\n            // setRadius(150)\r\n\r\n        }, false);\r\n        // svg.addEventListener(\"mouseleave\", function (e) {\r\n        //     setX(500)\r\n        //     setY(500)\r\n        //     // console.log(\"EVE\", e.clientX)\r\n        //     // img.setAttribute(\"cx\", e.clientX);\r\n        //     // img.setAttribute(\"cy\", e.clientY);\r\n        //     setRadius(150)\r\n        // }, false);\r\n        title.addEventListener(\"mousemove\", function (e) {\r\n            // setX(200)\r\n            // setY(200)\r\n            // console.log(\"EVE222\", e.clientX)\r\n            setTimeout(() => {\r\n                setX(x => e.clientX)\r\n                setY(e.clientY)\r\n                // if (e.clientX < 300) {\r\n                //     setRadius(250)\r\n                // } else {\r\n                //     setRadius(150)\r\n                // }\r\n                setRadius(250)\r\n            }, 50)\r\n            // setRadius(250)\r\n        }, false)\r\n    }, [])\r\n\r\n    return <div>\r\n        <svg className={styles.svg} id={\"svg\"}>\r\n            {/*<clippath id=\"cpText\">*/}\r\n            {/*    <text*/}\r\n            {/*        textAnchor=\"middle\"*/}\r\n            {/*        x=\"50%\"*/}\r\n            {/*        y=\"50%\"*/}\r\n            {/*        className={styles.text_text}*/}\r\n            {/*        //id=\"title\"*/}\r\n            {/*    >*/}\r\n            {/*        Mind ON*/}\r\n            {/*    </text>*/}\r\n            {/*</clippath>*/}\r\n            <defs>\r\n                <mask id=\"cursorMask\"\r\n                      maskUnits=\"objectBoundingBox\"\r\n                    //maskContentUtils=\"objectBoundingBox\"\r\n                >\r\n                    {/*<g>*/}\r\n                    <rect width=\"100%\" height=\"100%\" x=\"0\" y=\"0\"\r\n                          fill=\"white\"\r\n                          opacity=\"1\"\r\n                    />\r\n                    <g\r\n                        //transform=\"translate(0, 0)\"\r\n                    >\r\n                        <text\r\n                            textAnchor=\"middle\"\r\n                            x=\"50%\"\r\n                            y=\"50%\"\r\n                            className={styles.text_text}\r\n                            fill=\"#000\"\r\n                            //id=\"title\"\r\n                        >\r\n                            Mind ON\r\n                        </text>\r\n                        <circle cx={x} cy={y} r={radius} id=\"circle\"\r\n                            fill='rgba(0, 0, 0, 1)' className={styles.circle}\r\n                        />\r\n                    </g>\r\n                    {/*</g>*/}\r\n                </mask>\r\n                {/*<rect x=\"0\" y=\"0\" className=\"one\" mask=\"url(#mask)\" width=\"600\" height=\"300\"/>*/}\r\n            </defs>\r\n            <defs>\r\n                <mask id=\"cursorOnlyMask\"\r\n                      maskUnits=\"objectBoundingBox\">\r\n                    <rect width=\"100%\" height=\"100%\" x=\"0\" y=\"0\"\r\n                          fill=\"white\"\r\n                          opacity=\"1\"\r\n                    />\r\n                    <g>\r\n                        <circle cx={x} cy={y} r={radius} id=\"circle\"\r\n                                fill='rgba(0, 0, 0, 1)' className={styles.circle}\r\n                        />\r\n                    </g>\r\n                </mask>\r\n            </defs>\r\n            <defs>\r\n                <mask id=\"textMask\"\r\n                      maskUnits=\"objectBoundingBox\">\r\n                    <rect width=\"100%\" height=\"100%\" x=\"0\" y=\"0\"\r\n                          fill=\"#000\"\r\n                          opacity=\"1\"\r\n                    />\r\n                    <text\r\n                        textAnchor=\"middle\"\r\n                        x=\"50%\"\r\n                        y=\"50%\"\r\n                        className={cn(styles.text_text)}\r\n                        fill=\"#fff\"\r\n                        // mask=\"url(#cursorOnlyMask)\"\r\n                        //id=\"title\"\r\n                    >\r\n                        Mind ON\r\n                    </text>\r\n                </mask>\r\n            </defs>\r\n\r\n                <text\r\n                    textAnchor=\"middle\"\r\n                    x=\"50%\"\r\n                    y=\"50%\"\r\n                    className={styles.text_text}\r\n                    fill={THEME.ORANGE_500}\r\n                    //mask=\"url(#cursorOnlyMask)\"\r\n                    //id=\"title\"\r\n                >\r\n                    Mind ON\r\n                </text>\r\n            <text\r\n                textAnchor=\"middle\"\r\n                x=\"50%\"\r\n                y=\"50%\"\r\n                className={cn(styles.text_text, styles.back_image)}\r\n                fill={THEME.BLUE_500}\r\n                mask=\"url(#cursorOnlyMask)\"\r\n                //id=\"title\"\r\n            >\r\n                Mind ON\r\n            </text>\r\n\r\n            {/*</rect>*/}\r\n            <rect x=\"0\" y=\"0\" className={styles.image} id=\"image\"\r\n                  //mask=\"url(#mask)\"\r\n                  width=\"100%\" height=\"100%\"\r\n                  fill={THEME.GRAY_50}\r\n            >\r\n            </rect>\r\n\r\n            {/*<rect x=\"0\" y=\"0\"*/}\r\n            {/*      className={styles.back_image}*/}\r\n            {/*      id=\"image2\"*/}\r\n            {/*      mask=\"url(#textMask)\"*/}\r\n            {/*      width=\"100%\" height=\"100%\"*/}\r\n            {/*      fill=\"#000\"*/}\r\n            {/*>*/}\r\n            {/*</rect>*/}\r\n\r\n            {/*<div className={styles.image} id=\"image\"*/}\r\n            {/*     style={{width: \"100%\", height: \"100vh\", backgroundColor: \"#fff\"}}/>*/}\r\n            {/*<image width=\"520\" height=\"166\" id=\"image\" className={styles.image}*/}\r\n            {/*       //xlink:*/}\r\n            {/*       href=\"https://upload.wikimedia.org/wikipedia/commons/d/d4/Firefox-33-xfce.png\" />*/}\r\n        </svg>\r\n        <FullScreen classname={styles.first_body}>\r\n            <div id=\"title\"\r\n                 onClick={() => goToAnchor('form', false)}\r\n                className={cn(styles.text_text, styles.title)}\r\n                style={{zIndex: 1000}}>Mind ON</div>\r\n\r\n            {/*<h1 style={{position: \"absolute\", color: THEME.ORANGE_500}}*/}\r\n            {/*    className={styles.mask_elem}*/}\r\n            {/*    id=\"title\">This is Mind ON!</h1>*/}\r\n            {/*<AppButton onClick={() => {*/}\r\n            {/*    goToAnchor('form', false)*/}\r\n            {/*    //removeHash()*/}\r\n            {/*}}>*/}\r\n            {/*    Войти*/}\r\n            {/*</AppButton>*/}\r\n        </FullScreen>\r\n        <FullScreen  style={{backgroundColor: \"#000000\"}}>\r\n\r\n            <div className={styles.white_box}>\r\n                {/*<AppButton onClick={exampleWithoutAuth}>Пример запроса без авторизации</AppButton>*/}\r\n                <div className={styles.centered_div}>\r\n                    {/*<div>*/}\r\n                <AppCircularProgress\r\n                    data={circleData}\r\n                />\r\n                    {/*</div>*/}\r\n                <h3 className={styles.circular_right_header}>\r\n                    Подробная статистика и прогресс по всем разделам истории!\r\n                </h3>\r\n                </div>\r\n            </div>\r\n\r\n        </FullScreen>\r\n        <ScrollableAnchor id='form'>\r\n            <PageSection content={\r\n                <FullScreen  style={{backgroundColor: \"#000000\"}}>\r\n                    <div className={styles.white_box}>\r\n                        {RequestWrapper((p) => EnterForm({onEnter: afterEnter, ...p}))}\r\n                    </div>\r\n                </FullScreen>\r\n            }/>\r\n        </ScrollableAnchor>\r\n    </div>\r\n}\r\n\r\nexport default withRouter(LandingPage);\r\n","import React, {useState} from \"react\";\r\nimport styles from './styles.module.scss';\r\n\r\nimport cn from 'classnames';\r\nimport {AppWhiteBlock} from \"../AppWhiteBlock\";\r\n\r\nconst AppSelectedList = (\r\n    {\r\n        data,\r\n        activeIndex,\r\n        setActiveIndex,\r\n        active=true,\r\n        width=\"200px\",\r\n        nameColumn = \"name\",\r\n        onChoose = () => {},\r\n        listStyle = {},\r\n        elementStyle = {}\r\n    }) => {\r\n\r\n    const [showList, setShowList] = useState(false);\r\n\r\n    const onClickElem = (id) => {\r\n        setActiveIndex(id);\r\n        setShowList(false);\r\n        onChoose(id);\r\n    }\r\n\r\n    return <div className={cn(styles.main_div, !active && styles.main_inactive)} style={{minWidth: width}}>\r\n        <div className={cn(styles.main_block)} onClick={() => {\r\n            if (active) setShowList(s => !s)\r\n        }}>\r\n            <div className={styles.main_element}>\r\n                {data[activeIndex][nameColumn]}\r\n            </div>\r\n            {/*<button onClick={() => setShowList(s => !s)}>*/}\r\n            {/*    K*/}\r\n            {/*</button>*/}\r\n        </div>\r\n    <div className={cn(styles.list_block, !showList && styles.not_shown_list)} style={listStyle}>\r\n        {data.map((elem, i) =>\r\n            <div onClick={() => onClickElem(i)}\r\n                className={styles.list_element}\r\n                key={elem.key} style={elementStyle}\r\n            >\r\n                {elem[nameColumn]}\r\n            </div>\r\n        )}\r\n    </div>\r\n    </div>;\r\n\r\n};\r\n\r\n\r\nexport default AppSelectedList;\r\n","import React, {useEffect, useMemo, useState} from \"react\";\r\nimport styles from './styles.module.scss';\r\nimport cn from 'classnames';\r\nimport { Chart } from 'react-charts'\r\nimport {AppActivityIndicator} from \"../AppActivityIndicator\";\r\n//\r\n\r\n// const options = {\r\n//     elementType: [\"line\", \"area\", \"bar\", \"bubble\"],\r\n//     primaryAxisType: [\"linear\", \"time\", \"log\", \"ordinal\"],\r\n//     secondaryAxisType: [\"linear\", \"time\", \"log\", \"ordinal\"],\r\n//     primaryAxisPosition: [\"top\", \"left\", \"right\", \"bottom\"],\r\n//     secondaryAxisPosition: [\"top\", \"left\", \"right\", \"bottom\"],\r\n//     secondaryAxisStack: [true, false],\r\n//     primaryAxisShow: [true, false],\r\n//     secondaryAxisShow: [true, false],\r\n//     grouping: [\"single\", \"series\", \"primary\", \"secondary\"],\r\n//     tooltipAnchor: [\r\n//         \"closest\",\r\n//         \"top\",\r\n//         \"bottom\",\r\n//         \"left\",\r\n//         \"right\",\r\n//         \"center\",\r\n//         \"gridTop\",\r\n//         \"gridBottom\",\r\n//         \"gridLeft\",\r\n//         \"gridRight\",\r\n//         \"gridCenter\",\r\n//         \"pointer\"\r\n//     ],\r\n//     tooltipAlign: [\r\n//         \"auto\",\r\n//         \"top\",\r\n//         \"bottom\",\r\n//         \"left\",\r\n//         \"right\",\r\n//         \"topLeft\",\r\n//         \"topRight\",\r\n//         \"bottomLeft\",\r\n//         \"bottomRight\",\r\n//         \"center\"\r\n//     ],\r\n//     snapCursor: [true, false]\r\n// };\r\n//\r\n// const optionKeys = Object.keys(options);\r\n//\r\n// export function useChartConfig({\r\n//                                            series,\r\n//                                            useR,\r\n//                                            show = [],\r\n//                                            count = 1,\r\n//                                            resizable = true,\r\n//                                            canRandomize = true,\r\n//                                            dataType = \"time\",\r\n//                                            elementType = \"line\",\r\n//                                            primaryAxisType = \"time\",\r\n//                                            secondaryAxisType = \"linear\",\r\n//                                            primaryAxisPosition = \"bottom\",\r\n//                                            secondaryAxisPosition = \"left\",\r\n//                                            primaryAxisStack = false,\r\n//                                            secondaryAxisStack = true,\r\n//                                            primaryAxisShow = true,\r\n//                                            secondaryAxisShow = true,\r\n//                                            tooltipAnchor = \"closest\",\r\n//                                            tooltipAlign = \"auto\",\r\n//                                            grouping = \"primary\",\r\n//                                            snapCursor = true,\r\n//                                            datums = 10\r\n//                                        }) {\r\n//     const [state, setState] = React.useState({\r\n//         count,\r\n//         resizable,\r\n//         canRandomize,\r\n//         dataType,\r\n//         elementType,\r\n//         primaryAxisType,\r\n//         secondaryAxisType,\r\n//         primaryAxisPosition,\r\n//         secondaryAxisPosition,\r\n//         primaryAxisStack,\r\n//         secondaryAxisStack,\r\n//         primaryAxisShow,\r\n//         secondaryAxisShow,\r\n//         tooltipAnchor,\r\n//         tooltipAlign,\r\n//         grouping,\r\n//         snapCursor,\r\n//         datums,\r\n//         data: makeDataFrom(dataType, series, useR, datums)\r\n//     });\r\n//\r\n//     React.useEffect(() => {\r\n//         setState(old => ({\r\n//             ...old,\r\n//             data: makeDataFrom(dataType, series, useR, datums)\r\n//         }));\r\n//     }, [count, dataType, datums, series, useR]);\r\n//\r\n//     const randomizeData = () =>\r\n//         setState(old => ({\r\n//             ...old,\r\n//             data: makeDataFrom(dataType, series, useR, datums)\r\n//         }));\r\n//\r\n//     const Options = optionKeys\r\n//         .filter(option => show.indexOf(option) > -1)\r\n//         .map(option => (\r\n//             <div key={option}>\r\n//                 {option}: &nbsp;\r\n//                 <select\r\n//                     value={state[option]}\r\n//                     onChange={({ target: { value } }) =>\r\n//                         setState(old => ({\r\n//                             ...old,\r\n//                             [option]:\r\n//                                 typeof options[option][0] === \"boolean\"\r\n//                                     ? value === \"true\"\r\n//                                     : value\r\n//                         }))\r\n//                     }\r\n//                 >\r\n//                     {options[option].map(d => (\r\n//                         <option value={d} key={d.toString()}>\r\n//                             {d.toString()}\r\n//                         </option>\r\n//                     ))}\r\n//                 </select>\r\n//                 <br />\r\n//             </div>\r\n//         ));\r\n//\r\n//     return {\r\n//         ...state,\r\n//         randomizeData,\r\n//         Options\r\n//     };\r\n// }\r\n//\r\nfunction makeDataFrom(dataType='time', series=2, useR=true, datums=8) {\r\n    return [\r\n        ...new Array(series || Math.max(Math.round(Math.random() * 5), 1))\r\n    ].map((d, i) => makeSeries(i, dataType, useR, datums));\r\n}\r\n//\r\nfunction makeSeries(i, dataType = 'linear', useR = false, datums = 10) {\r\n    const start = 0;\r\n    const startDate = new Date();\r\n    startDate.setMinutes(0);\r\n    startDate.setSeconds(0);\r\n    startDate.setMilliseconds(0);\r\n    // const length = 5 + Math.round(Math.random() * 15)\r\n    const length = datums;\r\n    const min = 0;\r\n    const max = 100;\r\n    const rMin = 2;\r\n    const rMax = 20;\r\n    const nullChance = 0;\r\n    return {\r\n        label: `Series ${i + 1}`,\r\n        data: [...new Array(length)].map((_, j) => {\r\n            let x = j * 10 + start;\r\n            if (dataType === \"ordinal\") {\r\n                x = `Ordinal Group ${x}`;\r\n            }\r\n            if (dataType === \"time\") {\r\n                x = new Date(startDate.getTime() + 60 * 1000 * 30 * j);\r\n            }\r\n            if (dataType === \"linear\") {\r\n                x = j * 10\r\n                    // Math.random() < nullChance\r\n                    //     ? null\r\n                    //     : min + Math.round(Math.random() * (max - min));\r\n            }\r\n            const distribution = 1.1;\r\n            const y =\r\n                Math.random() < nullChance\r\n                    ? null\r\n                    : min + Math.round(Math.random() * (max - min));\r\n            const r = !useR\r\n                ? undefined\r\n                : rMax -\r\n                Math.floor(\r\n                    Math.log(Math.random() * (distribution ** rMax - rMin) + rMin) /\r\n                    Math.log(distribution)\r\n                );\r\n            return {\r\n                primary: x,\r\n                secondary: y,\r\n                radius: r\r\n            };\r\n        })\r\n    };\r\n}\r\n\r\n\r\nexport function AppGraph(\r\n    {\r\n        data,\r\n        datumFormat= x => x,\r\n        name=\"Название графика\",\r\n        primaryAxisType=\"linear\",\r\n        width=\"70%\",\r\n        height=\"300px\",\r\n    }) {\r\n    const [{ activeSeriesIndex, activeDatumIndex }, setState] = React.useState({\r\n        activeSeriesIndex: -1,\r\n        activeDatumIndex: -1\r\n    });\r\n\r\n    const [activePoint, setActivePoint] = useState(false);\r\n\r\n    return (\r\n        <MyChart\r\n            primaryAxisType={primaryAxisType}\r\n            elementType=\"line\"\r\n            datumFormat={datumFormat}\r\n            name={name}\r\n            data={data}\r\n            width={width}\r\n            height={height}\r\n            activePoint={activePoint}\r\n            setActivePoint={setActivePoint}\r\n            setState={setState}\r\n            activeDatumIndex={activeDatumIndex}\r\n            activeSeriesIndex={activeSeriesIndex}\r\n        />\r\n    );\r\n}\r\n\r\nconst lineColors = [\r\n    \"#2447FF\",\r\n    \"#F32F85\",\r\n    \"#60EA72\",\r\n    \"#134848\",\r\n    \"#8CF9FC\",\r\n    \"#EA7060\",\r\n    \"#EAD360\",\r\n    \"#e70fc4\",\r\n    \"#6eea60\",\r\n    \"#ea9760\",\r\n    \"#94a0a0\",\r\n]\r\n\r\nconst grayColors = [\r\n    \"#0a0a0b\",\r\n    \"#222225\",\r\n    \"#3b3b40\",\r\n    \"#53535a\",\r\n    \"#6c6c75\",\r\n    \"#85858e\",\r\n    \"#a0a0a7\",\r\n    \"#bababf\",\r\n    \"#d5d5d8\",\r\n    \"#efeff0\",\r\n]\r\n\r\nconst medianColor = \"#3354FF\";\r\n\r\nexport function MyChart(\r\n    {\r\n        data,\r\n        datumFormat= x => x,\r\n        primaryAxisType=\"linear\",\r\n        showLabels=true,\r\n        name=\"Название графика\",\r\n        activePoint,\r\n        width=\"70%\",\r\n        height=\"300px\",\r\n        setActivePoint,\r\n        elementType=\"line\",\r\n        loading=false,\r\n        activeDatumIndex,\r\n        activeSeriesIndex,\r\n        setState\r\n    }) {\r\n    //useLagRadar();\r\n\r\n    // const { data, grouping, randomizeData } = useChartConfig({\r\n    //     series: 4,\r\n    //     //useR: true,\r\n    //     height: 200,\r\n    //     grouping: \"primary\",\r\n    //     dataType: \"ordinal\",\r\n    //     show: [\"elementType\", \"grouping\"]\r\n    // });\r\n\r\n    // \"single\", \"series\", \"primary\", \"secondary\"\r\n    const grouping = \"primary\";\r\n\r\n    const series = React.useMemo(\r\n        () => ({\r\n            type: elementType,\r\n            //showPoints: false\r\n        }),\r\n        [elementType]\r\n    );\r\n\r\n    const axes = React.useMemo(\r\n        () => [\r\n            {\r\n                primary: true,\r\n                type: primaryAxisType, // \"linear\", \"time\", \"log\", \"ordinal\"\r\n                position: \"bottom\",\r\n                show: true,\r\n            },\r\n            {\r\n                type: \"linear\",\r\n                id: 'first',\r\n                format: datumFormat,\r\n                position: \"left\",\r\n                stacked: false\r\n            }],\r\n        []\r\n    );\r\n\r\n    const axes3 = React.useMemo(\r\n        () => [\r\n            {\r\n                primary: true,\r\n                type: primaryAxisType, // \"linear\", \"time\", \"log\", \"ordinal\"\r\n                position: \"bottom\",\r\n                show: true,\r\n            },\r\n            {\r\n                type: \"linear\",\r\n                id: 'first',\r\n                format: datumFormat,\r\n                position: \"left\",\r\n                stacked: false\r\n            },\r\n            {\r\n                type: \"linear\",\r\n                id: 'second',\r\n                position: \"right\",\r\n                stacked: false,\r\n            }],\r\n        []\r\n    );\r\n\r\n\r\n    const Data = useMemo(() => data, [data]);\r\n\r\n    const [loadingMode, setLoadingMode] = useState(true)\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setLoadingMode(!data || data.length === 0), 500);\r\n    }, [data])\r\n\r\n    const GetColor = (i) => {\r\n        //console.log(\"CONF\", config)\r\n        // return medianColor\r\n        //console.log(\"index\", i, Data[i], Data)\r\n        //return lineColors[i % lineColors.length]\r\n        const config = Data[i] ? Data[i].config : undefined;\r\n        if (config) {\r\n            if (config.color) {\r\n                return config.color\r\n            } else if (config.type === \"median\") {\r\n                //console.log(\"CONF MED\", config)\r\n                return medianColor\r\n            } else if (config.type === \"gray\") {\r\n                //console.log(\"CONF GRAY\", config)\r\n                return grayColors[i % grayColors.length]\r\n            }\r\n            //return config.color\r\n        }\r\n        return lineColors[i % lineColors.length]\r\n    }\r\n\r\n    const getSeriesStyle = React.useCallback(\r\n        series => {\r\n            let med = 0;\r\n            if (data) {\r\n                if (data[series.index].config.median) {\r\n                    med = 1;\r\n                }\r\n            }\r\n            return {\r\n                transition: 'all 0.2s ease',\r\n            color: GetColor(series.index), // `url(#${series.index % 4})`,\r\n            //height: \"20px\",\r\n            opacity:\r\n                activeSeriesIndex > -1\r\n                    ? series.index === activeSeriesIndex || med\r\n                    ? 1\r\n                    : 0.3\r\n                    : 0.8\r\n        }},\r\n        [activeSeriesIndex, Data]\r\n    );\r\n\r\n    const getDatumStyle = React.useCallback(\r\n        datum => ({\r\n            //color: medianColor,\r\n            transition: 'all 0.2s ease',\r\n            r:\r\n                activeDatumIndex === datum.index &&\r\n                activeSeriesIndex === datum.seriesIndex\r\n                    ? 5\r\n                    : activeDatumIndex === datum.index\r\n                    ? 2\r\n                    : datum.series.index === activeSeriesIndex\r\n                        ? 2\r\n                        : datum.otherHovered\r\n                            ? 1\r\n                            : 1\r\n        }),\r\n        [activeDatumIndex, activeSeriesIndex]\r\n    );\r\n\r\n    const onFocus = React.useCallback(\r\n        focused => {\r\n            if (!activePoint)\r\n            setState({\r\n                activeSeriesIndex: focused ? focused.series.id : -1,\r\n                activeDatumIndex: focused ? focused.index : -1\r\n            })},\r\n        [setState, activePoint]\r\n    );\r\n\r\n    const onClick = React.useCallback(\r\n        clicked => {\r\n            if (activePoint) {\r\n                setActivePoint(false)\r\n                setState({\r\n                    activeSeriesIndex: -1,\r\n                    activeDatumIndex: -1\r\n                })\r\n            } else {\r\n                setActivePoint(true);\r\n                setState({\r\n                    activeSeriesIndex: clicked ? clicked.series.id : -1,\r\n                    activeDatumIndex: clicked ? clicked.index : -1\r\n                })\r\n            }\r\n        },\r\n        [setState, activePoint, setActivePoint]\r\n    );\r\n\r\n    // if (!Data.length) {\r\n    //     return <div className={styles.loading_div} style={{height, width}}>\r\n    //         <AppActivityIndicator type=\"small\"/>\r\n    //     </div>\r\n    // }\r\n\r\n    const [LoadingData, setLoadingData] = useState(makeDataFrom());\r\n\r\n    useEffect(() => {\r\n        if (loadingMode) {\r\n            setTimeout(() => setLoadingData(makeDataFrom()), 1000)\r\n        }\r\n    }, [loadingMode, LoadingData])\r\n\r\n    const loadingSeries = React.useMemo(\r\n        () => ({\r\n            type: \"bar\",\r\n            showPoints: false\r\n        }),\r\n        []\r\n    );\r\n\r\n    const getSeriesLoadingStyle = React.useCallback(\r\n        () => ({\r\n            transition: 'all 1.0s ease'\r\n        }),\r\n        []\r\n    )\r\n    const getDatumLoadingStyle = React.useCallback(\r\n        () => ({\r\n            transition: 'all 1.0s ease'\r\n        }),\r\n        []\r\n    )\r\n\r\n    const loadingAxes = React.useMemo(\r\n        () => [\r\n            {\r\n                primary: true,\r\n                type: \"linear\", // \"linear\", \"time\", \"log\", \"ordinal\"\r\n                position: \"bottom\",\r\n                show: false,\r\n            },\r\n            {\r\n                type: \"linear\",\r\n                position: \"left\",\r\n                stacked: true,\r\n                show: false,\r\n            }\r\n        ],\r\n        []\r\n    );\r\n\r\n    const GetWaiting = () => {\r\n\r\n        // return <Chart\r\n        //     data={LoadingData}\r\n        //     series={loadingSeries}\r\n        //     axes={loadingAxes}\r\n        //     getSeriesStyle={getSeriesLoadingStyle}\r\n        //     getDatumStyle={getDatumLoadingStyle}\r\n        //     //tooltip\r\n        //     />\r\n\r\n        return <div className={styles.loading_div} style={{height, width}}>\r\n            <AppActivityIndicator type=\"small\"/>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <div className={styles.chart_container}>\r\n            <div className={styles.graph_name}>\r\n                {name}\r\n            </div>\r\n            <div style={{width, height}}>\r\n                { loadingMode || loading ? GetWaiting() :\r\n                    <Chart\r\n                        data={Data}\r\n                        //primaryAxisType={primaryAxisType}\r\n                        grouping={grouping}\r\n                        series={series}\r\n                        axes={data.findIndex(el => el.secondaryAxisID === 'second') >= 0 ? axes3 : axes}\r\n                        getSeriesStyle={getSeriesStyle}\r\n                        getDatumStyle={getDatumStyle}\r\n                        onFocus={onFocus}\r\n                        onClick={onClick}\r\n                        //primaryCursor\r\n                        secondaryCursor\r\n                        tooltip={{anchor: \"gridRight\"}}\r\n                        // renderSVG={() => (\r\n                        //     <defs>\r\n                        //         {data.map((elem, i) =>\r\n                        //             <linearGradient\r\n                        //                 //color={GetColor(elem.config, i)}\r\n                        //                 key={i.toString()} id={i.toString()} x1=\"0\" x2=\"0\" y1=\"1\" y2=\"0\">\r\n                        //                 <stop offset=\"0%\"\r\n                        //                       stopColor={GetColor(i)}\r\n                        //                       //color={GetColor(elem.config, i)}\r\n                        //                 />\r\n                        //                 <stop offset=\"100%\"\r\n                        //                       stopColor={GetColor(i)}\r\n                        //                       //color={GetColor(elem.config, i)}\r\n                        //                 />\r\n                        //             </linearGradient>\r\n                        //         )}\r\n                        //     </defs>\r\n                        // )}\r\n                    />}\r\n            </div>\r\n            {showLabels && data ?\r\n                <div className={styles.show_labels_container} style={{width}}>\r\n                    {data.map((elem, i) =>\r\n                        <div className={styles.label_object} key={i.toString()}>\r\n                            <div className={styles.colored_label_line} style={{backgroundColor: GetColor(i)}}/>\r\n                            <div className={styles.label_name}>{elem.bigLabel}</div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                : <div/>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AppGraph;\r\n","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./../styles.module.scss\";\r\nimport AdminStatisticsPage, {GetTime, METRICS_NAMES, SimpleGraphDataRequest} from \"../index\";\r\nimport AppGraph, {MyChart} from \"../../../components/AppGraph\";\r\nimport RequestWrapper from \"../../../helpers/RequestWrapper\";\r\nimport {useSelector} from \"react-redux\";\r\nimport AppSelectedList from \"../../../components/AppSelectedList\";\r\nimport AppButton from \"../../../components/AppButton\";\r\nimport {DB_PATH} from \"../../../constants\";\r\n\r\nconst TimeData = [\r\n    {id: 0, key: \"0\", name: \"За 3 дня\", value: 3},\r\n    {id: 1, key: \"1\", name: \"За 5 дней\", value: 5},\r\n    {id: 2, key: \"2\", name: \"За 7 дней\", value: 7},\r\n]\r\n\r\nconst EntersTypeData = [\r\n    {id: 0, key: \"0\", name: \"Уникальные пользователи\", value: \"unique_users\"},\r\n    {id: 1, key: \"1\", name: \"Всего заходов\", value: \"entered_users\"},\r\n]\r\n\r\nconst ENTERS_METRICS = [\r\n    {\r\n        name: \"unique_users_times\",\r\n        key: \"0\",\r\n        label: \"Пользователи\",\r\n        bigLabel: \"Входы уникальных пользователей каждые 30 минут\",\r\n        short_label: \"\",\r\n    },\r\n    {\r\n        name: \"users_times\",\r\n        key: \"1\",\r\n        label: \"Пользователи\",\r\n        bigLabel: \"Все входы пользователей каждые 30 минут\",\r\n        short_label: \"\",\r\n    },\r\n]\r\n\r\nconst GetEntersData = (REQUEST, metric, setD, time) => {\r\n    REQUEST.GET({request: DB_PATH.STATISTICS.METRIC.N + `?metric=${metric.name}&time=${time}`,\r\n        meta: {ms: 300000}}).then(res => {\r\n        try {\r\n            //console.log(res.json);\r\n            // return;\r\n            // const xAxes = res.json.dates\r\n            setD([...res.json.dates.map((date, i) => ({\r\n                label: date.substr(5),\r\n                bigLabel: metric.bigLabel + ` (${date.substr(5)})`,\r\n                config: {type: \"gray\"},\r\n                data: res.json.data.map((el, j) => ({\r\n                    x: GetTime({seconds: el.t}),\r\n                    y: el.enters[i]\r\n                }))\r\n            })), {\r\n                label: \"Среднее\",\r\n                bigLabel: metric.bigLabel + \" (среднее)\",\r\n                config: {type: \"median\", color: \"#3354FF\", median: true},\r\n                data: res.json.data.map((el, j) => ({\r\n                    x: GetTime({seconds: el.t}),\r\n                    y: el.enters.reduce((sum, current) => sum + current, 0) / el.enters.length,\r\n                }))\r\n            }])\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    })\r\n}\r\n\r\nconst labelUsers = \"Юзеры\";\r\nconst labelProducts = \"Продукты\";\r\n\r\nconst StatisticUsersPage = ({history}) => {\r\n\r\n    const [data1, setData1] = useState([])\r\n    const [data2, setData2] = useState([])\r\n    const [data3, setData3] = useState([])\r\n    const [data4, setData4] = useState([])\r\n\r\n    const [data5, setData5] = useState([])\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n       if (data1.length && data2.length && data3.length && data4.length) {\r\n           setLoading(false)\r\n       } else {\r\n           setLoading(true)\r\n       }\r\n    }, [data1, data2, data3, data4])\r\n\r\n    const [{ activeSeriesIndex, activeDatumIndex }, setState] = React.useState({\r\n        activeSeriesIndex: -1,\r\n        activeDatumIndex: -1\r\n    });\r\n\r\n    const [activePoint, setActivePoint] = useState(false);\r\n\r\n    const {REQUEST} = RequestWrapper();\r\n\r\n    const clearData = () => {\r\n        const clearAll = () => {\r\n            setData1([]);\r\n            setData2([]);\r\n            setData3([]);\r\n            setData4([]);\r\n        }\r\n        return Promise.resolve(clearAll())\r\n    }\r\n    const time = useSelector(state => state.statistics.time);\r\n    const [innerTime, setInnerTime] = useState(0)\r\n    const [entersType, setEntersType] = useState(0)\r\n\r\n    useEffect(() => {\r\n        clearData().then(res => {\r\n            SimpleGraphDataRequest(REQUEST, METRICS_NAMES[0], setData1, labelUsers, time);\r\n            SimpleGraphDataRequest(REQUEST, METRICS_NAMES[1], setData2, labelUsers, time);\r\n            SimpleGraphDataRequest(REQUEST, METRICS_NAMES[2], setData3, labelProducts, time);\r\n            SimpleGraphDataRequest(REQUEST, METRICS_NAMES[3], setData4, labelProducts, time);\r\n        });\r\n    }, [time])\r\n\r\n    const GetEntersGraph = () => {\r\n        Promise.resolve(setData5([])).then(res => {\r\n            GetEntersData(REQUEST, ENTERS_METRICS[entersType], setData5, TimeData[innerTime].value)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        GetEntersGraph()\r\n    }, [])\r\n\r\n    return <AdminStatisticsPage history={history} time={time} screenId={0}>\r\n    <div className={styles.graphics_container}>\r\n        <div className={styles.graphics_line}>\r\n            <div className={styles.graphic_elem}>\r\n                <MyChart data={data1}\r\n                         height={\"200px\"}\r\n                         name={METRICS_NAMES[0].bigLabel}\r\n                         loading={loading}\r\n                         primaryAxisType=\"time\"\r\n                         activePoint={activePoint}\r\n                         setActivePoint={setActivePoint}\r\n                         setState={setState}\r\n                         activeDatumIndex={activeDatumIndex}\r\n                         activeSeriesIndex={activeSeriesIndex}\r\n                />\r\n            </div>\r\n            <div className={styles.graphic_elem}>\r\n                <MyChart data={data2}\r\n                         height={\"200px\"}\r\n                         name={METRICS_NAMES[1].bigLabel}\r\n                         loading={loading}\r\n                         primaryAxisType=\"time\"\r\n                         activePoint={activePoint}\r\n                         setActivePoint={setActivePoint}\r\n                         setState={setState}\r\n                         activeDatumIndex={activeDatumIndex}\r\n                         activeSeriesIndex={activeSeriesIndex}\r\n                />\r\n            </div>\r\n        </div>\r\n        <div className={styles.graphics_line}>\r\n            <div className={styles.graphic_elem}>\r\n                <MyChart data={data3}\r\n                         height={\"200px\"}\r\n                         name={METRICS_NAMES[2].bigLabel}\r\n                         loading={loading}\r\n                         primaryAxisType=\"time\"\r\n                         activePoint={activePoint}\r\n                         setActivePoint={setActivePoint}\r\n                         setState={setState}\r\n                         activeDatumIndex={activeDatumIndex}\r\n                         activeSeriesIndex={activeSeriesIndex}\r\n                />\r\n            </div>\r\n            <div className={styles.graphic_elem}>\r\n                <MyChart data={data4}\r\n                         height={\"200px\"}\r\n                         name={METRICS_NAMES[3].bigLabel}\r\n                         loading={loading}\r\n                         primaryAxisType=\"time\"\r\n                         activePoint={activePoint}\r\n                         setActivePoint={setActivePoint}\r\n                         setState={setState}\r\n                         activeDatumIndex={activeDatumIndex}\r\n                         activeSeriesIndex={activeSeriesIndex}\r\n                />\r\n            </div>\r\n        </div>\r\n        <div className={styles.graphic_elem}>\r\n            <div className={styles.activity_div}>\r\n                <div className={styles.head_div}>\r\n                    Входы каждые полчаса за последние дни\r\n                </div>\r\n                <div className={styles.activity_inner_div} style={{justifyContent: \"space-between\"}}>\r\n                    <div className={styles.activity_inner_div}>\r\n                    <div style={{marginRight: '20px'}}>\r\n                        <AppSelectedList data={TimeData}\r\n                                         activeIndex={innerTime}\r\n                                         setActiveIndex={setInnerTime}\r\n                                         width={'130px'}\r\n                        />\r\n                    </div>\r\n                    <div style={{marginRight: '20px'}}>\r\n                        <AppSelectedList data={EntersTypeData}\r\n                                         activeIndex={entersType}\r\n                                         setActiveIndex={setEntersType}\r\n                        />\r\n                    </div>\r\n                    </div>\r\n                    <AppButton onClick={() => GetEntersGraph()}>\r\n                        Показать\r\n                    </AppButton>\r\n                </div>\r\n            </div>\r\n            <AppGraph data={data5}\r\n                     height={\"200px\"}\r\n                     name={ENTERS_METRICS[entersType].bigLabel}\r\n                     primaryAxisType=\"time\"\r\n                     // activePoint={activePoint}\r\n                     // setActivePoint={setActivePoint}\r\n                     // setState={setState}\r\n                     // activeDatumIndex={activeDatumIndex}\r\n                     // activeSeriesIndex={activeSeriesIndex}\r\n            />\r\n        </div>\r\n\r\n    </div>\r\n    </AdminStatisticsPage>\r\n}\r\n\r\nexport default StatisticUsersPage;","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./../styles.module.scss\";\r\nimport AdminStatisticsPage, {METRICS_NAMES, SimpleGraphDataRequest} from \"../index\";\r\nimport AppGraph from \"../../../components/AppGraph\";\r\nimport RequestWrapper from \"../../../helpers/RequestWrapper\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst StatisticProductsPage = ({history}) => {\r\n\r\n    const [data3, setData3] = useState([])\r\n    const [data4, setData4] = useState([])\r\n\r\n    const {REQUEST} = RequestWrapper();\r\n\r\n    const label = \"Продукты\";\r\n\r\n    // const [time, setTime] = useState(7);\r\n    // const SetTime = (t) => {\r\n    //     let storeTime = useSelector(state => state.statistics.time);\r\n    //\r\n    // }\r\n    const time = useSelector(state => state.statistics.time);\r\n\r\n    const clearData = () => {\r\n        const clearAll = () => {\r\n            setData3([]);\r\n            setData4([]);\r\n        }\r\n        return Promise.resolve(clearAll())\r\n    }\r\n\r\n    useEffect(() => {\r\n        clearData().then(res => {\r\n            SimpleGraphDataRequest(REQUEST, METRICS_NAMES[2], setData3, label, time);\r\n            SimpleGraphDataRequest(REQUEST, METRICS_NAMES[3], setData4, label, time);\r\n        });\r\n    }, [time])\r\n\r\n    return <AdminStatisticsPage history={history} time={time} screenId={1}>\r\n    <div className={styles.graphics_container}>\r\n\r\n        <div className={styles.graphic_elem}>\r\n            <AppGraph data={data3}\r\n                      name={METRICS_NAMES[2].bigLabel}\r\n                      primaryAxisType=\"time\"\r\n            />\r\n        </div>\r\n        <div className={styles.graphic_elem}>\r\n            <AppGraph data={data4}\r\n                      name={METRICS_NAMES[3].bigLabel}\r\n                      primaryAxisType=\"time\"\r\n            />\r\n        </div>\r\n    </div>\r\n    </AdminStatisticsPage>\r\n}\r\n\r\nexport default StatisticProductsPage;","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./../styles.module.scss\";\r\nimport AdminStatisticsPage, {\r\n    GetTime,\r\n    METRICS_NAMES,\r\n    SimpleGraphDataRequest,\r\n    statMeanBigLabel,\r\n    statMeanLabel\r\n} from \"../index\";\r\nimport AppGraph from \"../../../components/AppGraph\";\r\nimport RequestWrapper from \"../../../helpers/RequestWrapper\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {DB_PATH, METRICS} from \"../../../constants\";\r\nimport AppSelectedList from \"../../../components/AppSelectedList\";\r\nimport AppButton from \"../../../components/AppButton\";\r\n\r\n\r\nexport const ConversionDataRequest = (R, first, second, setD, label, time) => {\r\n    R.GET({request: DB_PATH.STATISTICS.METRIC.N +\r\n            `?metric=conversion&first=${first.name}&second=${second.name}&time=${time}`,\r\n        meta: {ms: 300000}}).then(res => {\r\n        try {\r\n            const xAxes = res.json.data.map(elem => GetTime({userDate: elem.d}))\r\n            setD([\r\n                {\r\n                    label: \"Доля\",\r\n                    secondaryAxisID: 'first',\r\n                    bigLabel: `Доля из \"${first.bigLabel}\" в \"${second.bigLabel}\"`,\r\n                    config: {type: \"gray\"},\r\n                    data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.v}))\r\n                },\r\n                {\r\n                    label: first.label,\r\n                    secondaryAxisID: 'second',\r\n                    bigLabel: first.bigLabel,\r\n                    config: {color: \"#FA0000\"},\r\n                    data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.c}))\r\n                },\r\n                {\r\n                    label: statMeanLabel,\r\n                    bigLabel: statMeanBigLabel,\r\n                    config: {type: \"median\"},\r\n                    data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.m}))\r\n                }\r\n            ])\r\n        } catch (e) {\r\n            console.log(e)\r\n            // setError(\"Error: \" + e)\r\n        }\r\n    })\r\n}\r\n\r\nconst SelectedFirstMetrics = [\r\n    {id: 0, key: \"0\", name: METRICS.UNIQUE_USERS,\r\n        name1: \"уникальных пользователей\", name2: \"уникальным пользователям\"},\r\n    {id: 1, key: \"1\", name: METRICS.ENTERED_USERS,\r\n        name1: \"зашедших пользователей\", name2: \"зашедшим пользователям\"},\r\n    {id: 2, key: \"2\", name: METRICS.COMPLETED_PRODUCTS,\r\n        name1: \"пройденных продуктов\", name2: \"пройденным продуктам\"},\r\n    {id: 3, key: \"3\", name: METRICS.USER_COMPLETED,\r\n        name1: \"прошедших пользователей\", name2: \"прошедшим пользователям\"},\r\n]\r\n\r\n\r\n\r\n\r\nconst StatisticConversionsPage = ({history}) => {\r\n\r\n    const [data, setData] = useState([])\r\n\r\n    const {REQUEST} = RequestWrapper();\r\n\r\n    const label = \"Доля\";\r\n\r\n    const time = useSelector(state => state.statistics.time);\r\n\r\n    const clearData = () => {\r\n        const clearAll = () => {\r\n            setData([]);\r\n        }\r\n        return Promise.resolve(clearAll())\r\n    }\r\n    const [first, setFirst] = useState(0)\r\n    const [second, setSecond] = useState(0)\r\n    const [secondId, setSecondId] = useState(1)\r\n\r\n    const CalculateMetric = () => {\r\n        clearData().then(res => {\r\n            ConversionDataRequest(REQUEST, METRICS_NAMES[first],\r\n                METRICS_NAMES[SelectedFirstMetrics.filter((e, i) => i !== first)[second].id], setData, label, time);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        CalculateMetric()\r\n    }, [time])\r\n\r\n    useEffect(() => {\r\n        if (SelectedFirstMetrics[first].id ===\r\n            SelectedFirstMetrics.filter((e, i) => i !== first)[second].id) {\r\n            // console.log(\"FS\", first, second)\r\n            if (first === 0) {\r\n                setSecond(1)\r\n            } else {\r\n                setSecond(0)\r\n            }\r\n        }\r\n    }, [first, second])\r\n\r\n    return <AdminStatisticsPage history={history} time={time} screenId={1}>\r\n        <div className={styles.graphics_container}>\r\n            <div className={styles.conversion_settings_div}>\r\n            <div className={styles.conversion_div}>\r\n                <div>Отношение</div>\r\n                <AppSelectedList activeIndex={first} setActiveIndex={setFirst} nameColumn={\"name1\"}\r\n                                 data={SelectedFirstMetrics}/>\r\n                <div>к</div>\r\n                <AppSelectedList activeIndex={second} setActiveIndex={setSecond} nameColumn={\"name2\"}\r\n                                 data={SelectedFirstMetrics.filter((e, i) => i !== first)}/>\r\n\r\n            </div>\r\n                <div style={{marginTop: \"20px\"}}>\r\n                    <AppButton onClick={CalculateMetric}>Посчитать</AppButton>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={styles.graphic_elem}>\r\n                <AppGraph data={data}\r\n                          name={label}\r\n                          primaryAxisType=\"time\"\r\n                />\r\n            </div>\r\n        </div>\r\n    </AdminStatisticsPage>\r\n}\r\n\r\nexport default StatisticConversionsPage;","import React, {useEffect, useRef, useState} from 'react';\r\nimport styles from \"./../styles.module.scss\";\r\nimport AdminStatisticsPage, {\r\n    GetTime,\r\n    METRICS_NAMES,\r\n    SimpleGraphDataRequest,\r\n    statMeanBigLabel,\r\n    statMeanLabel\r\n} from \"../index\";\r\nimport AppGraph from \"../../../components/AppGraph\";\r\nimport RequestWrapper from \"../../../helpers/RequestWrapper\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {DB_PATH, METRICS} from \"../../../constants\";\r\nimport AppSelectedList from \"../../../components/AppSelectedList\";\r\nimport AppButton from \"../../../components/AppButton\";\r\nimport cn from 'classnames';\r\n\r\n\r\nexport const ActivityDataRequest =\r\n    ({R, object, category, value, border, setD, label, time, withUsers=false}) => {\r\n    const withUsersStr = withUsers ? `&with_users=${withUsers}` : \"\";\r\n    R.GET({request: DB_PATH.STATISTICS.METRIC.N +\r\n            `?metric=activity&object=${object}&category=${category}&value=${value}&border=${border}&time=${time}${withUsersStr}`,\r\n        meta: {ms: 300000}}).then(res => {\r\n        try {\r\n            const xAxes = res.json.data.map(elem => GetTime({userDate: elem.d}))\r\n            withUsers ?\r\n            setD([\r\n                {\r\n                    label: value,\r\n                    secondaryAxisID: 'first',\r\n                    bigLabel: `${object} & ${category}`,\r\n                    config: {type: \"gray\"},\r\n                    data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.v}))\r\n                },\r\n                {\r\n                    label: withUsers,\r\n                    secondaryAxisID: 'second',\r\n                    bigLabel: withUsers,\r\n                    config: {color: \"#FA0000\"},\r\n                    data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.u}))\r\n                },\r\n                {\r\n                    label: statMeanLabel,\r\n                    bigLabel: statMeanBigLabel,\r\n                    config: {type: \"median\"},\r\n                    data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.m}))\r\n                }\r\n            ]) :\r\n                setD([\r\n                    {\r\n                        label: value,\r\n                        secondaryAxisID: 'first',\r\n                        bigLabel: `${object} & ${category}`,\r\n                        config: {type: \"gray\"},\r\n                        data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.v}))\r\n                    },\r\n                    {\r\n                        label: statMeanLabel,\r\n                        bigLabel: statMeanBigLabel,\r\n                        config: {type: \"median\"},\r\n                        data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.m}))\r\n                    }\r\n                ])\r\n        } catch (e) {\r\n            console.log(e)\r\n            // setError(\"Error: \" + e)\r\n        }\r\n    })\r\n}\r\n\r\nconst Objects = [\r\n    {id: 0, key: \"0\", name: \"Карточки\", value: 'cards'},\r\n    {id: 1, key: \"1\", name: \"Списки\", value: 'list'}\r\n]\r\n\r\nconst Categories = [\r\n    {id: 0, key: \"0\", name: \"Даты истории России\", value: 'rus'},\r\n    {id: 1, key: \"1\", name: \"Даты истории мира\", value: 'world'},\r\n    {id: 2, key: \"2\", name: \"Термины\", value: 'terms'},\r\n]\r\n\r\nconst Values = [\r\n    {id: 0, key: \"0\", name: \"Уникальные пользователи\", value: 'unique_users'},\r\n    {id: 1, key: \"1\", name: \"Количество использований\", value: 'total_usages'},\r\n    {id: 2, key: \"2\", name: \"Время сессии\", value: 'time'},\r\n    {id: 3, key: \"3\", name: \"Количество карточек\", value: 'cards_amount', onlyCards: true},\r\n]\r\n\r\nconst BordersTime = [\r\n    {id: 0, key: \"0\", name: \"0 секунд\", value: 0},\r\n    {id: 1, key: \"1\", name: \"5 секунд\", value: 7},\r\n    {id: 2, key: \"2\", name: \"10 секунд\", value: 10},\r\n    {id: 3, key: \"3\", name: \"30 секунд\", value: 30},\r\n]\r\n\r\nconst BordersCards = [\r\n    {id: 0, key: \"0\", name: \"0 карточек\", value: 0},\r\n    {id: 1, key: \"1\", name: \"1 карточка\", value: 1},\r\n    {id: 2, key: \"2\", name: \"3 карточки\", value: 3},\r\n    {id: 3, key: \"3\", name: \"10 карточек\", value: 10},\r\n]\r\n\r\nconst WithUsers = [\r\n    {id: 0, key: \"0\", name: \"Без сравнения\", value: ''},\r\n    {id: 1, key: \"1\", name: \"Уникальные пользователи\", value: 'unique_users'},\r\n    {id: 2, key: \"2\", name: \"Количество использований\", value: 'total_usages'},\r\n]\r\n\r\nexport const ChooseDiv = ({list, active, setActive, name, working=true}) => {\r\n    return <div className={styles.activity_div}>\r\n        <div className={styles.head_div}>{name}</div>\r\n        <div className={styles.activity_inner_div}>\r\n            {list.map((elem, i) => working ? <div className={cn(\r\n                styles.activity_inner_elem,\r\n                active === i && styles.activity_inner_elem_active\r\n            )} onClick={() => setActive(i)} key={elem.key}>\r\n                {elem.name}\r\n            </div> :\r\n                <div className={cn(\r\n                    styles.activity_inner_elem,\r\n                    styles.activity_inner_elem_disable\r\n                )} key={elem.key}>\r\n                    {elem.name}\r\n                </div>\r\n            )}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst StatisticActivityPage = ({history}) => {\r\n\r\n    const [data, setData] = useState([])\r\n    const {REQUEST} = RequestWrapper();\r\n\r\n    const label = \"Доля\";\r\n\r\n    const time = useSelector(state => state.statistics.time);\r\n\r\n    const clearData = () => {\r\n        const clearAll = () => {\r\n            setData([]);\r\n        }\r\n        return Promise.resolve(clearAll())\r\n    }\r\n\r\n    const [object, setObject] = useState(0) // ['list', 'cards']\r\n    const [category, setCategory] = useState(0) // ['rus', 'world', 'terms']\r\n    const [value, setValue] = useState(0) // ['time', 'unique_users', 'total_usages', 'cards_amount']\r\n    const [border, setBorder] = useState(0) // unsigned int\r\n    const [withUsers, setWithUsers] = useState(0) // ['', 'unique_users', 'total_usages']\r\n\r\n    const CalculateMetric = () => {\r\n        clearData().then(res => {\r\n            const borderAmount = Values[value].value === 'time' ? BordersTime[border].value :\r\n                (Values[value].value === 'cards_amount' ? BordersCards[border].value : 0);\r\n            ActivityDataRequest({\r\n                R: REQUEST, setD: setData, time,\r\n                object: Objects[object].value,\r\n                category: Categories[category].value,\r\n                value: Values[value].value,\r\n                border: borderAmount,\r\n                withUsers: WithUsers[withUsers].value,\r\n                label: \"smth\"\r\n                });\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        CalculateMetric()\r\n    }, [time])\r\n\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n\r\n    const [datumFormat, setDatumFormat] = useState((x) => x)\r\n    const datumFormatRef = useRef(datumFormat);\r\n\r\n    useEffect(() => {\r\n        setDatumFormat(Values[value].value === 'time' ?\r\n            (x) => `${Math.floor(x / 60)}m ${x % 60}s` : x => x)\r\n    }, [value])\r\n\r\n    const GetDatumFormat = () => {\r\n        if (Values[value].value === 'time') {\r\n            return (x) => `${Math.floor(x / 60)}m ${x % 60}s`\r\n        }\r\n        return x => x\r\n    }\r\n\r\n    return <AdminStatisticsPage history={history} time={time} screenId={2}>\r\n        <div className={styles.graphics_container}>\r\n            <div className={styles.conversion_settings_div}>\r\n                {ChooseDiv({list: Objects, active: object, setActive: setObject,\r\n                    name: \"Данные для анализа\"})}\r\n                {ChooseDiv({list: Categories, active: category, setActive: setCategory,\r\n                    name: \"Категория данных\"})}\r\n                {ChooseDiv({list: Objects[object].value === 'cards' ? Values :\r\n                        Values.filter(elem => !elem.onlyCards)\r\n                    , active: value, setActive: setValue,\r\n                    name: \"Параметр отображения\"})}\r\n                {ChooseDiv({list:\r\n                        Values[value].value === 'cards_amount' ? BordersCards : BordersTime,\r\n                    active: border, setActive: setBorder,\r\n                    name: \"Граница рассмотрения\",\r\n                    working: Values[value].value === 'time' || Values[value].value === 'cards_amount'})}\r\n                {ChooseDiv({list: WithUsers, active: withUsers, setActive: setWithUsers,\r\n                    name: \"Добавление данных о пользователях для сравнения\",\r\n                    working: Values[value].value === 'time' || Values[value].value === 'cards_amount'\r\n                })}\r\n\r\n                <div style={{marginTop: \"20px\"}}>\r\n                    <AppButton onClick={() => {\r\n                        CalculateMetric();\r\n                        scrollToBottom();\r\n                    }}>Посчитать метрику</AppButton>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={styles.graphic_elem} ref={messagesEndRef}>\r\n                {Values[value].value === 'time' ? <AppGraph data={data}\r\n                          name={\"Активность\"}\r\n                          // datumFormat={datumFormatRef.current}\r\n                          datumFormat={x => `${Math.floor(x / 60)}m ${x % 60}s`}\r\n                          primaryAxisType=\"time\"\r\n                /> : <AppGraph data={data}\r\n                               name={\"Активность\"}\r\n                               // datumFormat={datumFormatRef.current}\r\n                    // datumFormat={Values[value].value === 'time' ?\r\n                    //         x => `${Math.floor(x / 60)}m ${x % 60}s` : x => x}\r\n                               primaryAxisType=\"time\"\r\n                />\r\n                }\r\n            </div>\r\n        </div>\r\n    </AdminStatisticsPage>\r\n}\r\n\r\nexport default StatisticActivityPage;","import React, {useEffect, useRef, useState} from 'react';\r\nimport styles from \"./../styles.module.scss\";\r\nimport AdminStatisticsPage, {\r\n    GetTime,\r\n    METRICS_NAMES,\r\n    SimpleGraphDataRequest,\r\n    statMeanBigLabel,\r\n    statMeanLabel\r\n} from \"../index\";\r\nimport AppGraph from \"../../../components/AppGraph\";\r\nimport RequestWrapper from \"../../../helpers/RequestWrapper\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {DB_PATH, METRICS} from \"../../../constants\";\r\nimport AppSelectedList from \"../../../components/AppSelectedList\";\r\nimport AppButton from \"../../../components/AppButton\";\r\nimport cn from 'classnames';\r\nimport {ChooseDiv} from \"./activity\";\r\nimport {AppActivityIndicator} from \"../../../components/AppActivityIndicator\";\r\n\r\n\r\nexport const ProductRatingDataRequest = ({R, object, category, value, bestAmount, listSide, setD, time, setLoading}) => {\r\n    const topStr = `&top=${bestAmount}`;\r\n    setLoading(true)\r\n    R.GET({request: DB_PATH.STATISTICS.METRIC.N +\r\n            `?metric=product_rating&object=${object}&category=${category}&value=${value}&best=${listSide}&time=${time}${topStr}`,\r\n        meta: {ms: 300000}}).then(res => {\r\n        try {\r\n            setD(res.json.data)\r\n            setLoading(false)\r\n        } catch (e) {\r\n            console.log(e)\r\n            // setError(\"Error: \" + e)\r\n        }\r\n    })\r\n}\r\n\r\nconst Objects = [\r\n    {id: 0, key: \"0\", name: \"Теория\", value: 'theory'},\r\n    {id: 1, key: \"1\", name: \"Тесты\", value: 'tests'}\r\n]\r\n\r\nconst Categories = [\r\n    {id: 0, key: \"0\", name: \"Все категории\", value: 'all'},\r\n    {id: 1, key: \"1\", name: \"Древность\", value: 'anc'},\r\n    {id: 2, key: \"2\", name: \"Новое время\", value: 'ren'},\r\n    {id: 3, key: \"3\", name: \"Новейшее время\", value: 'mod'},\r\n]\r\n\r\nconst Values = [\r\n    {id: 0, key: \"0\", name: \"Количество использований\", value: 'total_usages'},\r\n    {id: 1, key: \"1\", name: \"Среднее время прохождения\", value: 'average_time', isTime: true},\r\n    {id: 2, key: \"2\", name: \"Суммарное время прохождения\", value: 'total_time', isTime: true},\r\n    {id: 3, key: \"3\", name: \"Среднее по блокам\", value: 'average_completed_blocks'},\r\n    {id: 4, key: \"4\", name: \"Суммарное по блокам\", value: 'completed_blocks'},\r\n    {id: 5, key: \"5\", name: \"Средний прогресс, %\", value: 'average_progress'},\r\n]\r\n\r\nconst BestAmount = [\r\n    {id: 0, key: \"0\", name: \"ТОП-3\", value: 3},\r\n    {id: 1, key: \"1\", name: \"ТОП-5\", value: 5},\r\n    {id: 2, key: \"2\", name: \"ТОП-10\", value: 10},\r\n    {id: 3, key: \"3\", name: \"ТОП-20\", value: 20},\r\n]\r\n\r\nconst ListSide = [ // Формировать топ по показателям\r\n    {id: 0, key: \"0\", name: \"Лучших продуктов\", value: \"True\"},\r\n    {id: 1, key: \"1\", name: \"Худших продуктов\", value: \"False\"},\r\n]\r\n\r\n// const WithUsers = [\r\n//     {id: 0, key: \"0\", name: \"Без сравнения\", value: ''},\r\n//     {id: 1, key: \"1\", name: \"Уникальные пользователи\", value: 'unique_users'},\r\n//     {id: 2, key: \"2\", name: \"Количество использований\", value: 'total_usages'},\r\n// ]\r\n\r\n// export const ChooseDiv = ({list, active, setActive, name, working=true}) => {\r\n//     return <div className={styles.activity_div}>\r\n//         <div className={styles.head_div}>{name}</div>\r\n//         <div className={styles.activity_inner_div}>\r\n//             {list.map((elem, i) => working ? <div className={cn(\r\n//                 styles.activity_inner_elem,\r\n//                 active === i && styles.activity_inner_elem_active\r\n//                 )} onClick={() => setActive(i)} key={elem.key}>\r\n//                     {elem.name}\r\n//                 </div> :\r\n//                 <div className={cn(\r\n//                     styles.activity_inner_elem,\r\n//                     styles.activity_inner_elem_disable\r\n//                 )} key={elem.key}>\r\n//                     {elem.name}\r\n//                 </div>\r\n//             )}\r\n//         </div>\r\n//     </div>\r\n// }\r\n\r\n\r\nconst GetCompletedTime = (time) => {\r\n    const s = Math.floor(time % 60).toString()\r\n    const sec = s.length === 1 ? \"0\" + s : s\r\n    const m = Math.floor((time % 3600) / 60).toString()\r\n    const min = m.length === 1 ? \"0\" + m : m;\r\n    if (Math.floor(time / 3600) > 0) {\r\n        return `${Math.floor(time / 3600)}:${min}:${sec}`\r\n    }\r\n    return `${min}:${sec}`\r\n}\r\n\r\nconst StatisticProductsRatingPage = ({history}) => {\r\n\r\n    const [data, setData] = useState([])\r\n    const {REQUEST} = RequestWrapper();\r\n\r\n    const label = \"Доля\";\r\n\r\n    const time = useSelector(state => state.statistics.time);\r\n\r\n    const clearData = () => {\r\n        const clearAll = () => {\r\n            setData([]);\r\n        }\r\n        return Promise.resolve(clearAll())\r\n    }\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const [object, setObject] = useState(1) // ['theory', 'tests']\r\n    const [category, setCategory] = useState(0) // ['rus', 'world', 'terms']\r\n    const [value, setValue] = useState(0) // ['time', 'unique_users', 'total_usages', 'cards_amount']\r\n    const [bestAmount, setBestAmount] = useState(2) // unsigned int\r\n    const [listSide, setListSide] = useState(0) // ['True', 'False']\r\n\r\n    const CalculateMetric = () => {\r\n        setValueColumn(value)\r\n        clearData().then(res => {\r\n            ProductRatingDataRequest({\r\n                R: REQUEST, setD: setData, time,\r\n                setLoading,\r\n                object: Objects[object].value,\r\n                category: Categories[category].value,\r\n                value: Values[value].value,\r\n                bestAmount: BestAmount[bestAmount].value,\r\n                listSide: ListSide[listSide].value\r\n            });\r\n        });\r\n    }\r\n\r\n    const [valueColumn, setValueColumn] = useState(value)\r\n\r\n    useEffect(() => {\r\n        CalculateMetric()\r\n    }, [time])\r\n\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n\r\n\r\n    return <AdminStatisticsPage history={history} time={time} screenId={3}>\r\n        <div className={styles.graphics_container}>\r\n            <div className={styles.conversion_settings_div}>\r\n                {ChooseDiv({list: Objects, active: object, setActive: setObject,\r\n                    name: \"Данные для анализа\"})}\r\n                {ChooseDiv({list: Categories, active: category, setActive: setCategory,\r\n                    name: \"Категория данных\"})}\r\n                {ChooseDiv({list: Values, active: value, setActive: setValue,\r\n                    name: \"Параметр отображения\"})}\r\n                {ChooseDiv({list: BestAmount, active: bestAmount, setActive: setBestAmount,\r\n                    name: \"Количество продуктов в списке\",})}\r\n                {ChooseDiv({list: ListSide, active: listSide, setActive: setListSide,\r\n                    name: \"Использовать вывод со стороны\"})}\r\n\r\n                <div style={{marginTop: \"20px\"}}>\r\n                    <AppButton onClick={() => {\r\n                        CalculateMetric();\r\n                        scrollToBottom();\r\n                    }}>Посчитать метрику</AppButton>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={styles.graphic_elem} ref={messagesEndRef}>\r\n                {/*{JSON.stringify(data)}*/}\r\n                {\r\n                    loading ? <div className={styles.div_loading}>\r\n                        <AppActivityIndicator type=\"large\"/>\r\n                    </div> : <div className={styles.rating_products_div}>\r\n                        <div className={styles.rating_elem_div}\r\n                             style={{borderBottomStyle: \"solid\"}}\r\n                        >\r\n                            <div className={cn(styles.rating_number, styles.rating_text)}\r\n                                 style={{fontSize: \"16px\", color: \"black\", backgroundColor: 'rgba(0, 0, 0, 0)'}}\r\n                            >\r\n                                Номер\r\n                            </div>\r\n                            <div className={cn(styles.rating_name, styles.rating_text)}\r\n                                 style={{fontSize: \"16px\"}}\r\n                            >\r\n                                {`Название продукта из категории \"${Categories[category].name}\"`}\r\n                            </div>\r\n                            <div className={cn(styles.rating_value, styles.rating_text)}\r\n                                 style={{fontSize: \"16px\", textAlign: \"center\"}}\r\n                            >\r\n                                {Values[valueColumn].name}\r\n                            </div>\r\n                        </div>\r\n                        {data.map((elem, i) => <div className={styles.rating_elem_div} key={i.toString()}>\r\n                            <div className={cn(styles.rating_number, styles.rating_text)}>\r\n                                {i + 1}\r\n                            </div>\r\n                            <div className={cn(styles.rating_name, styles.rating_text)}>\r\n                                {elem.name}\r\n                            </div>\r\n                            <div className={cn(styles.rating_value, styles.rating_text)}>\r\n                                {Values[valueColumn].isTime ?\r\n                                    GetCompletedTime(elem.value)\r\n                                    : elem.value}\r\n                            </div>\r\n                        </div>)}\r\n                    </div>\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    </AdminStatisticsPage>\r\n}\r\n\r\nexport default StatisticProductsRatingPage;","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./styles.module.scss\";\r\nimport cn from 'classnames';\r\nimport {ADMIN_STATISTICS_URL, DB_PATH, MAIN_URL} from \"../../constants\";\r\nimport AppSelectedList from \"../../components/AppSelectedList\";\r\nimport StatisticUsersPage from \"./InnerPages/users\";\r\nimport StatisticProductsPage from \"./InnerPages/products\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setTime} from \"../../store/actions/statistics\";\r\nimport StatisticConversionsPage from \"./InnerPages/conversions\";\r\nimport StatisticActivityPage from \"./InnerPages/activity\";\r\nimport StatisticProductsRatingPage from \"./InnerPages/productsRating\";\r\n\r\n\r\nexport const GetTime = ({seconds, userDate = \"\"}) => {\r\n    if (userDate) {\r\n        return new Date(userDate);\r\n    }\r\n    const startDate = new Date();\r\n    startDate.setHours(0)\r\n    startDate.setMinutes(0);\r\n    startDate.setSeconds(0);\r\n    startDate.setMilliseconds(0);\r\n    return new Date(startDate.getTime() + seconds * 1000);\r\n    let hours   = Math.floor(seconds / 3600);\r\n    let minutes = Math.floor((seconds - (hours * 3600)) / 60);\r\n\r\n    if (hours   < 10) {hours   = \"0\"+hours;}\r\n    if (minutes < 10) {minutes = \"0\"+minutes;}\r\n    return hours+':'+minutes;\r\n}\r\n\r\n\r\nconst STAT_TYPES = {\r\n    STAT_SIMPLE: 'stat_simple',\r\n    USERS: 'users',\r\n    PRODUCTS: 'products',\r\n    CONVERSIONS: \"conversions\",\r\n    ACTIVITY: \"activity\",\r\n    PRODUCTS_RATING: \"products_rating\",\r\n}\r\n\r\nconst dataLeft = [\r\n    {\r\n        key: \"0\",\r\n        name: 'Сводная статистика',\r\n        value: STAT_TYPES.USERS\r\n    },\r\n    // {\r\n    //     key: \"1\",\r\n    //     name: \"Продукты (сводная)\",\r\n    //     value: STAT_TYPES.PRODUCTS\r\n    // },\r\n    {\r\n        key: \"2\",\r\n        name: \"Конверсии\",\r\n        value: STAT_TYPES.CONVERSIONS\r\n    },\r\n    {\r\n        key: \"3\",\r\n        name: \"Активности\",\r\n        value: STAT_TYPES.ACTIVITY\r\n    },\r\n    {\r\n        key: \"4\",\r\n        name: \"Анализ популярных продуктов\",\r\n        value: STAT_TYPES.PRODUCTS_RATING,\r\n    }\r\n];\r\n\r\nconst StatisticVariant = (elem, onClick) => {\r\n    return <div onClick={onClick} className={cn(styles.stat_elem, elem.active && styles.active_stat_elem)} key={elem.key}>\r\n        <div>{elem.name}</div>\r\n    </div>\r\n}\r\n\r\n// const data_ = [[\r\n//     {\r\n//         label: \"A\",\r\n//         data: [{x:\"3 feb\", y:1}, {x:2, y:2}, {x: \"5 mar\", y: 5}, {x: \"5 marf\", y: 5}]\r\n//     },\r\n//     {\r\n//         label: \"BBB\",\r\n//         data: [{x:\"3 feb\", y:3}, {x:2, y:1.5}, {x: \"5 mar\", y: 3}, {x: \"5 marf\", y: 5.6}]\r\n//     }\r\n// ]]\r\n\r\nexport const METRICS_NAMES = [\r\n    {\r\n        name: \"unique_users\",\r\n        key: \"0\",\r\n        label: \"Пользователи\",\r\n        bigLabel: \"Уникальные пользователи\",\r\n        short_label: \"\",\r\n    },\r\n    {\r\n        name: \"entered_users\",\r\n        key: \"1\",\r\n        label: \"Заходы\",\r\n        bigLabel: \"Заходы в приложение\",\r\n        short_label: \"\",\r\n    },\r\n    {\r\n        name: \"completed_products\",\r\n        key: \"2\",\r\n        label: \"Продукты\",\r\n        bigLabel: \"Пройденные продукты\",\r\n        short_label: \"\",\r\n    },\r\n    {\r\n        name: \"user_completed\",\r\n        key: \"3\",\r\n        label: \"Пользователи\",\r\n        bigLabel: \"Количество пользователей, которые использовали продукты в этот день\",\r\n        short_label: \"\",\r\n    },\r\n    {\r\n        name: \"unique_users_times\",\r\n        key: \"4\",\r\n        label: \"Пользователи\",\r\n        bigLabel: \"Входы уникальных пользователей каждые 30 минут\",\r\n        short_label: \"\",\r\n    },\r\n    {\r\n        name: \"users_times\",\r\n        key: \"5\",\r\n        label: \"Пользователи\",\r\n        bigLabel: \"Все входы пользователей каждые 30 минут\",\r\n        short_label: \"\",\r\n    },\r\n]\r\n\r\nexport const SimpleGraphDataRequest = (R, metric, setD, label, time) => {\r\n    R.GET({request: DB_PATH.STATISTICS.METRIC.N + `?metric=${metric.name}&time=${time}`,\r\n        meta: {ms: 300000}}).then(res => {\r\n        try {\r\n            const xAxes = res.json.data.map(elem => GetTime({userDate: elem.d}))\r\n            setD([\r\n                {\r\n                    label: metric.label,\r\n                    bigLabel: metric.bigLabel,\r\n                    config: {type: \"gray\"},\r\n                    data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.v}))\r\n                },\r\n                {\r\n                    label: statMeanLabel,\r\n                    bigLabel: metric.bigLabel + statMeanBigLabel,\r\n                    config: {type: \"median\"},\r\n                    data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.m}))\r\n                }\r\n            ])\r\n        } catch (e) {\r\n            console.log(e)\r\n            // setError(\"Error: \" + e)\r\n        }\r\n    })\r\n}\r\n\r\nexport const SelectedTimeData = [\r\n    {id: 0, key: \"0\", name: \"За 3 дня\", value: 3},\r\n    {id: 1, key: \"1\", name: \"За 7 дней\", value: 7},\r\n    {id: 2, key: \"2\", name: \"За 14 дней\", value: 14},\r\n    {id: 3, key: \"3\", name: \"За 30 дней\", value: 30},\r\n    // {id: 4, key: \"4\", name: \"За 30 дней\", value: 30},\r\n    // {id: 5, key: \"5\", name: \"За 30 дней\", value: 30},\r\n]\r\n\r\n// const labels = [\"Юзеры\", \"Продукты\"];\r\nexport const statMeanLabel = \"Среднее\";//\"Скользящее среднее за 30 дней\";\r\nexport const statMeanBigLabel = \" (скользящее среднее за 30 дней)\"\r\n\r\n\r\nconst InnerScreensList = [\r\n    {id: 0, key: \"0\", path: ADMIN_STATISTICS_URL.USERS, screen: StatisticUsersPage},\r\n    // {id: 1, key: \"1\", path: ADMIN_STATISTICS_URL.PRODUCTS, screen: StatisticProductsPage},\r\n    {id: 1, key: \"1\", path: ADMIN_STATISTICS_URL.CONVERSIONS, screen: StatisticConversionsPage},\r\n    {id: 2, key: \"2\", path: ADMIN_STATISTICS_URL.ACTIVITY, screen: StatisticActivityPage},\r\n    {id: 3, key: \"3\", path: ADMIN_STATISTICS_URL.PRODUCTS_RATING, screen: StatisticProductsRatingPage},\r\n]\r\n\r\nconst GetScreen = (path) => {\r\n    if (path === undefined) {\r\n        return InnerScreensList[0]\r\n    }\r\n    const ind = InnerScreensList.findIndex(elem => elem.path === path)\r\n    if (ind >= 0) {\r\n        return InnerScreensList[ind]\r\n    }\r\n    return InnerScreensList[0]\r\n}\r\n\r\n\r\nexport function AdminStatisticsPage({history, screenId, children, time}) {\r\n\r\n    // const Screen = GetScreen(history.location.pathname.split(\"/\")[-1]);\r\n    // const category = match.params.category;\r\n    // const Screen = GetScreen(category);\r\n\r\n    const [activeLeft, setActiveLeft_] = useState(screenId);\r\n    const setActiveLeft = (id) => {\r\n        //setActiveLeft_(id);\r\n        history.push(MAIN_URL.APP_STATISTICS + \"/\" + InnerScreensList[id].path)\r\n    }\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    const onChooseTime = (id) => dispatch(setTime(SelectedTimeData[id].value))\r\n\r\n    const SetTime = (t) => {\r\n        const id = SelectedTimeData.findIndex(elem => elem.value === t);\r\n        if (id >= 0) return id\r\n        onChooseTime(1)\r\n        return 1\r\n    }\r\n\r\n    const [activeSelected, setActiveSelected] = useState(SetTime(time));\r\n\r\n    // const GetData = (metric, setD, label, another=false) => {\r\n    //     REQUEST.GET({request: DB_PATH.STATISTICS.METRIC.N + `?metric=${metric.name}&time=${time}`,\r\n    //         meta: {ms: 300000}}).then(res => {\r\n    //         try {\r\n    //             if (!another) {\r\n    //                 const xAxes = res.json.data.map(elem => GetTime({userDate: elem.d}))\r\n    //                 setD([\r\n    //                     {\r\n    //                         label: metric.label,\r\n    //                         bigLabel: metric.bigLabel,\r\n    //                         config: {type: \"gray\"},\r\n    //                         data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.v}))\r\n    //                     },\r\n    //                     {\r\n    //                         label: statMeanLabel,\r\n    //                         bigLabel: metric.bigLabel + statMeanBigLabel,\r\n    //                         config: {type: \"median\"},\r\n    //                         data: res.json.data.map((el, i) => ({x: xAxes[i], y: el.m}))\r\n    //                     }\r\n    //                 ])\r\n    //             } else {\r\n    //                 //console.log(res.json);\r\n    //                 // return;\r\n    //                 // const xAxes = res.json.dates\r\n    //                 setD([...res.json.dates.map((date, i) => ({\r\n    //                     label: date.substr(5),\r\n    //                     bigLabel: metric.bigLabel + ` (${date.substr(5)})`,\r\n    //                     config: {type: \"gray\"},\r\n    //                     data: res.json.data.map((el, j) => ({\r\n    //                         x: GetTime({seconds: el.t}),\r\n    //                         y: el.enters[i]\r\n    //                     }))\r\n    //                 })), {\r\n    //                     label: statMeanLabel,\r\n    //                     bigLabel: metric.bigLabel + statMeanBigLabel,\r\n    //                     config: {type: \"median\", color: \"#3354FF\", median: true},\r\n    //                     data: res.json.data.map((el, j) => ({\r\n    //                         x: GetTime({seconds: el.t}),\r\n    //                         y: el.enters.reduce((sum, current) => sum + current, 0) / el.enters.length,\r\n    //                     }))\r\n    //                 }])\r\n    //             }\r\n    //         } catch (e) {\r\n    //             console.log(e)\r\n    //             setError(\"Error: \" + e)\r\n    //             setLoading(false)\r\n    //         }\r\n    //     })\r\n    // }\r\n\r\n    // const GetGraphs = () => {\r\n    //     return InnerScreensList[activeLeft].screen({time})\r\n    // }\r\n\r\n    return <div>\r\n        {/*<div className={styles.full_white_screen}/>*/}\r\n        <div className={styles.choose_stat_type_block}>\r\n            <div className={styles.choose_stat_type}>\r\n                {dataLeft.map((elem, i) => {\r\n                    return StatisticVariant({...elem, active: i === activeLeft},\r\n                        () => setActiveLeft(i))\r\n                })}\r\n            </div>\r\n        </div>\r\n\r\n        <div className={styles.stat_header}>\r\n            <div className={styles.stat_header_section_name}>\r\n                {dataLeft[activeLeft].name}\r\n            </div>\r\n            <div className={styles.stat_time}>\r\n                <AppSelectedList data={SelectedTimeData}\r\n                                 activeIndex={activeSelected}\r\n                                 setActiveIndex={setActiveSelected}\r\n                                 onChoose={onChooseTime}\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n        <div className={styles.main_content}>\r\n            {children}\r\n            {/*{Screen.screen({time, REQUEST})}*/}\r\n            {/*/!*{GetGraphs()}*!/*/}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default AdminStatisticsPage;\r\n","import {SET_MENU_ELEMENT_ID, SET_TIME} from \"../types\";\r\n\r\n\r\nexport const setTime = (time) => {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: SET_TIME,\r\n            time\r\n        });\r\n    };\r\n};\r\n\r\nexport const setActiveElementId = (id) => {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: SET_MENU_ELEMENT_ID,\r\n            activeElemId: id\r\n        });\r\n    };\r\n};","import React, {} from \"react\";\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport {ADMIN_STATISTICS_URL, MAIN_URL} from \"../constants\";\r\nimport ClassroomPage from \"../pages/ClassroomPage\";\r\nimport ProfilePage from \"../pages/ProfilePages/ProfilePage\";\r\nimport CompetitionPage from \"../pages/CompetitionPage\";\r\nimport RatingPage from \"../pages/RatingPage\";\r\nimport LandingPage from \"../pages/LandingPage\";\r\nimport AdminStatisticsPage from \"../pages/AdminStatisticsPage\";\r\nimport StatisticUsersPage from \"../pages/AdminStatisticsPage/InnerPages/users\";\r\nimport StatisticProductsPage from \"../pages/AdminStatisticsPage/InnerPages/products\";\r\nimport StatisticConversionsPage from \"../pages/AdminStatisticsPage/InnerPages/conversions\";\r\nimport StatisticActivityPage from \"../pages/AdminStatisticsPage/InnerPages/activity\";\r\nimport StatisticProductsRatingPage from \"../pages/AdminStatisticsPage/InnerPages/productsRating\";\r\n\r\nconst GetLocalRoute = ({path}) => {\r\n    console.log(\"PP\", MAIN_URL.APP_STATISTICS + \"/\" + path)\r\n    return <Route exact path={MAIN_URL.APP_STATISTICS + \"/\" + path}\r\n                  render={() => AdminStatisticsPage({category: path})}/>\r\n}\r\n\r\nconst InnerScreensList = [\r\n    {id: 0, key: \"0\", path: ADMIN_STATISTICS_URL.USERS, screen: StatisticUsersPage},\r\n    {id: 1, key: \"1\", path: ADMIN_STATISTICS_URL.PRODUCTS, screen: StatisticProductsPage},\r\n]\r\n\r\nconst AdminStatisticsRouter = () => {\r\n\r\n    return <Switch>\r\n        <Route exact path={MAIN_URL.APP_STATISTICS}\r\n               component={StatisticUsersPage}/>\r\n        {/*<Route exact path={MAIN_URL.APP_STATISTICS + \"/:category\"}*/}\r\n        {/*       component={AdminStatisticsPage}/>*/}\r\n        <Route exact path={MAIN_URL.APP_STATISTICS + \"/\" + ADMIN_STATISTICS_URL.USERS}\r\n               component={StatisticUsersPage}/>\r\n        <Route exact path={MAIN_URL.APP_STATISTICS + \"/\" + ADMIN_STATISTICS_URL.PRODUCTS}\r\n               component={StatisticProductsPage}/>\r\n        <Route exact path={MAIN_URL.APP_STATISTICS + \"/\" + ADMIN_STATISTICS_URL.CONVERSIONS}\r\n               component={StatisticConversionsPage}/>\r\n        <Route exact path={MAIN_URL.APP_STATISTICS + \"/\" + ADMIN_STATISTICS_URL.ACTIVITY}\r\n               component={StatisticActivityPage}/>\r\n        <Route exact path={MAIN_URL.APP_STATISTICS + \"/\" + ADMIN_STATISTICS_URL.PRODUCTS_RATING}\r\n               component={StatisticProductsRatingPage}/>\r\n    </Switch>\r\n};\r\n\r\n\r\nexport default AdminStatisticsRouter;\r\n","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./styles.module.scss\";\r\nimport {AppModal} from \"../../components/AppModal\";\r\nimport RequestWrapper from \"../../helpers/RequestWrapper\";\r\nimport {MAIN_URL, PERIODS, PERSONS, SECTIONS, TAGS} from \"../../constants\";\r\nimport AppCircularProgress from \"../../components/UI/AppCircularProgress\";\r\nimport {AppWhiteBlock} from \"../../components/AppWhiteBlock\";\r\nimport AppButton from \"../../components/AppButton\";\r\n\r\nconst GetStatistics = ({REQUEST, type = \"common\", person = \"\", section = \"\", period = \"\", handler = () => {}}) => {\r\n    let params = `type=${type}`\r\n    if (person && person in PERSONS) {\r\n        params += `&person=${person}`\r\n    } else if (period && period in PERIODS) {\r\n        params += `&period=${period}`\r\n    } else if (section && section in SECTIONS) {\r\n        params += `&section=${section}`\r\n    }\r\n    return REQUEST.GET({request: \"statistics/progress/?\" + params})\r\n}\r\n\r\nconst AddHeader = ({section, period, person}) => {\r\n    try {\r\n        if (person) {\r\n            return PERSONS[person].name\r\n        } else if (period) {\r\n            return PERIODS[period].name\r\n        } else if (section) {\r\n            return SECTIONS[section].name\r\n        }\r\n    } catch (e) {\r\n        return \"\"\r\n    }\r\n    return \"\"\r\n}\r\n\r\nconst GetHeader = ({section, period, person}) => {\r\n    let header = AddHeader({section, period, person})\r\n    if (header) return header\r\n    return \"Прогресс\"\r\n}\r\n\r\nconst StatisticRow = ({text, meaning}) => (\r\n    <div className={styles.row_div}>\r\n        <h6 className={styles.row_text}>\r\n            {text}\r\n        </h6>\r\n        <h6 className={styles.row_number}>\r\n            {meaning}\r\n        </h6>\r\n    </div>\r\n)\r\n\r\nfunction StudentStatisticsPage({history, location, match}) {\r\n\r\n    const section = match.params.section;\r\n    const period = match.params.period;\r\n    const person = match.params.person;\r\n    const [userType, setUserType] = useState(\"common\");\r\n        // location.state && location.state.type && location.state.type in [\"common\", \"detail\"] ?\r\n        // location.state.type : \"common\";\r\n    const {REQUEST} = RequestWrapper();\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState(\"\")\r\n\r\n    const [data, setData] = useState([])\r\n    const [tags, setTags] = useState([])\r\n    const [questions, setQuestions] = useState([])\r\n\r\n    const [questionModal, setQuestionModal] = useState(false)\r\n    const [questionId, setQuestionId] = useState(-1)\r\n\r\n    const [nextType, setNextType] = useState(\"\")\r\n    const [amount, setAmount] = useState(0)\r\n    const [linearProgress, setLinearProgress] = useState(0)\r\n    const [progress, setProgress] = useState(0)\r\n    const [right, setRight] = useState(0)\r\n    const [totalAttempts, setTotalAttempts] = useState(0)\r\n    const [totalRight, setTotalRight] = useState(0)\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        console.log(\"Sec\", section, \", period\", period, \", person\", person, \", TYPE\", userType)\r\n        let addHeader = AddHeader({section, person, period})\r\n        if (addHeader) {\r\n            document.title = \"Моя статистика | \" + addHeader\r\n        } else {\r\n            document.title = \"Моя статистика\"\r\n        }\r\n        GetStatistics({REQUEST, section, person, period, type: userType}).then(res => {\r\n            if (res.status !== 200) {\r\n                setError(\"Ошибка загрузки статистики \" + JSON.stringify(res.message))\r\n                // setData(JSON.stringify(res.json))\r\n            } else {\r\n                setType(res.json.type)\r\n                setAmount(res.json.amount)\r\n                setProgress(res.json.progress)\r\n                setLinearProgress(res.json.linear_progress)\r\n                setRight(res.json.right)\r\n                setTotalAttempts(res.json.total_attempts)\r\n                setTotalRight(res.json.total_right)\r\n                console.log(\"JSON\", res.json)\r\n                if (res.json.type === \"common\") {\r\n                    setNextType(res.json.next_type)\r\n                    setData(res.json.data.map(elem => ({...elem, percentage: Number(elem.progress)})))\r\n                } else {\r\n                    setTags(res.json.tags)\r\n                    setQuestions(res.json.difficult.map(elem => {\r\n                        let v_a;\r\n                        if (typeof elem.valid_answers === 'object') {\r\n                            v_a = elem.valid_answers\r\n                        } else {\r\n                            v_a = JSON.parse(elem.valid_answers)\r\n                        }\r\n                        return {...elem, valid_answers: v_a}\r\n                    }))\r\n                }\r\n            }\r\n            setLoading(false)\r\n        })\r\n    }, [section, period, person, userType])\r\n    //useEffect(() => console.log(\"RERENDER\"))\r\n    const [type, setType] = useState(\"common\")\r\n    //const []\r\n    const onNext = (id) => {\r\n        console.log(\"ID\", id, history.location.pathname + '/' + data[id][nextType])\r\n        history.push(history.location.pathname + '/' + data[id][nextType])\r\n    }\r\n\r\n    const onPrev = (elem) => {\r\n        if (elem === \"person\") {\r\n            history.push(MAIN_URL.STATISTICS + '/' + section + '/' + period + '/' + person)\r\n        } else if (elem === 'period') {\r\n            history.push(MAIN_URL.STATISTICS + '/' + section + '/' + period)\r\n        } else if (elem === 'section') {\r\n            history.push(MAIN_URL.STATISTICS + '/' + section)\r\n        } else {\r\n            history.push(MAIN_URL.STATISTICS)\r\n        }\r\n    }\r\n\r\n    return <div className={styles.screen}>\r\n        {questions.length > 0 && <AppModal modalVisible={questionModal} setModalVisible={setQuestionModal}>\r\n            <h4>Информация о задании</h4>\r\n            <div className={styles.column_div}>\r\n            <div>\r\n                <h5>Вопрос</h5>\r\n            <p>{questions.length > 0 && questionId >= 0 && questions[questionId].question}</p>\r\n            </div>\r\n            <div className={styles.row_div} style={{justifyContent: 'flex-start'}}>\r\n                <p style={{fontWeight: 'bold', marginRight: '10px'}}>Верный ответ:</p>\r\n                <p>{questions.length > 0 && questionId >= 0 && questions[questionId].valid_answers[0]}</p>\r\n            </div>\r\n                <div className={styles.row_div} style={{justifyContent: 'flex-start'}}>\r\n                    <p style={{fontWeight: 'bold', marginRight: '10px'}}>Всего попыток:</p>\r\n                    <p>{questions.length > 0 && questionId >= 0 && questions[questionId].attempts}</p>\r\n                </div>\r\n                <div className={styles.row_div} style={{justifyContent: 'flex-start'}}>\r\n                    <p style={{fontWeight: 'bold', marginRight: '10px'}}>Попыток с правильным ответом:</p>\r\n                    <p>{questions.length > 0 && questionId >= 0 && questions[questionId].successful_attempts}</p>\r\n                </div>\r\n            </div>\r\n            <AppButton onClick={() => setQuestionModal(false)} type={\"red\"}>Закрыть</AppButton>\r\n        </AppModal>}\r\n        <div className={styles.head_line_div}>\r\n            <div className={styles.head_history_div}>\r\n                <div className={styles.div_header_elem} onClick={() => onPrev(\"all\")}>\r\n                    Общее\r\n                </div>\r\n                {section && <div className={styles.div_header_elem}\r\n                                 style={{backgroundColor: '#d4e0f6'}}\r\n                                 onClick={() => onPrev(\"section\")}>\r\n                    {SECTIONS[section].name}\r\n                </div>}\r\n                {period && <div className={styles.div_header_elem} onClick={() => onPrev(\"period\")}\r\n                                style={{backgroundColor: '#e6ebfc'}}>\r\n                    {PERIODS[period].name}\r\n                </div>}\r\n                {person && <div className={styles.div_header_elem} onClick={() => onPrev(\"person\")}\r\n                                style={{backgroundColor: '#ebeffa'}}>\r\n                    {PERSONS[person].name}\r\n                </div>}\r\n            </div>\r\n            {userType === \"detail\" && <div style={{\r\n                display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                height: '100%', marginRight: '10px'\r\n            }}>\r\n                <AppButton onClick={() => setUserType(\"common\")}>\r\n                    К сводной\r\n                </AppButton>\r\n            </div>}\r\n        </div>\r\n        {loading ?<AppModal modalVisible={loading} setModalVisible={setLoading} showLoading={true} canCloseOnBackdrop={false}/>:(\r\n            type === \"common\" ?\r\n            <div className={styles.main_div}>\r\n                {/*<h1>Статистика</h1>*/}\r\n            {/*<div style={{maxWidth: \"600px\"}}>{error ? error : data}</div>*/}\r\n            <AppCircularProgress onNext={onNext} data={data}\r\n                                 header={GetHeader({section, period, person})}\r\n                                 centerBeginText={`${progress}%`}/>\r\n            <AppWhiteBlock className={styles.white_block}>\r\n                <div className={styles.info_list}>\r\n                    <h4>Сводная статистика</h4>\r\n                    <StatisticRow text={\"Всего вопросов\"} meaning={amount}/>\r\n                    <StatisticRow text={\"Усвоено материала\"} meaning={`${progress}%`}/>\r\n                    <StatisticRow text={\"Всего ответов\"} meaning={totalAttempts}/>\r\n                    <StatisticRow text={\"Всего верных\"} meaning={totalRight}/>\r\n                    <StatisticRow text={\"Пройдено вопросов\"} meaning={right}/>\r\n                    <StatisticRow text={\"Пройдено в %\"} meaning={`${linearProgress}%`}/>\r\n                </div>\r\n                <AppButton onClick={() => {\r\n                    //history.push(location.pathname, {type: \"detail\"})\r\n                    setUserType(\"detail\")\r\n                }}>Подробно</AppButton>\r\n            </AppWhiteBlock>\r\n            </div> : <div className={styles.column_div}>\r\n                    <div className={styles.main_div}>\r\n                <AppWhiteBlock className={styles.white_block_with_border} style={{width: '100%'}}>\r\n                    <h4>Статистика по разделам</h4>\r\n                        <div className={styles.grid_div}>\r\n                    {tags.filter(elem => elem.tag in TAGS).map((elem, i) => {\r\n                        let name = TAGS[elem.tag].name\r\n                        return <AppCircularProgress data={[{percentage: elem.score, name}]}\r\n                                                    header={name}\r\n                                                    fontSize={'14px'}\r\n                                                    minHeight={'120px'}\r\n                                                    beginRadius={42}\r\n                                                    strokeWidth={15}\r\n                                                    animatedText={false}\r\n                                                    key={i.toString()}\r\n                                                    centerBeginText={`${elem.score}%`}/>\r\n                    })}\r\n                </div>\r\n                </AppWhiteBlock>\r\n                    <AppWhiteBlock className={styles.white_block}>\r\n                        <div className={styles.info_list}>\r\n                            <h4>Сводная статистика</h4>\r\n                            <StatisticRow text={\"Всего вопросов\"} meaning={amount}/>\r\n                            <StatisticRow text={\"Усвоено материала\"} meaning={`${progress}%`}/>\r\n                            <StatisticRow text={\"Всего ответов\"} meaning={totalAttempts}/>\r\n                            <StatisticRow text={\"Всего верных\"} meaning={totalRight}/>\r\n                            <StatisticRow text={\"Пройдено вопросов\"} meaning={right}/>\r\n                            <StatisticRow text={\"Пройдено в %\"} meaning={`${linearProgress}%`}/>\r\n                        </div>\r\n                        {/*{userType === \"detail\" && <AppButton onClick={() => {*/}\r\n                        {/*    //history.push(location.pathname, {type: \"detail\"})*/}\r\n                        {/*    //console.log(\"CLICK\", userType)*/}\r\n                        {/*    setUserType(\"common\")*/}\r\n                        {/*}}>Назад к сводной</AppButton>}*/}\r\n                    </AppWhiteBlock>\r\n                </div>\r\n                <div className={styles.main_div}>\r\n                    <AppWhiteBlock style={{maxWidth: \"90vw\", width: '100%'}}>\r\n                        <h4>Самые трудные вопросы</h4>\r\n                    {questions.map((elem, i) => (\r\n                        <div\r\n                            className={styles.div_question}\r\n                            onClick={() => {\r\n                                setQuestionId(i);\r\n                                setQuestionModal(true)\r\n                            }}\r\n                             key={i.toString()}>\r\n                            <div className={styles.overflow_div}>\r\n                                <div className={styles.overflow_single}>\r\n                                    {elem.question}\r\n                                </div>\r\n                            </div>\r\n                            <div className={styles.question_number_right}>\r\n                                {elem.successful_attempts}\r\n                            </div>\r\n                            <div className={styles.question_number_wrong}>\r\n                                {elem.attempts - elem.successful_attempts}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                    </AppWhiteBlock>\r\n                </div>\r\n                </div>\r\n        )}\r\n    </div>\r\n}\r\n\r\nexport default StudentStatisticsPage;\r\n","import React, {} from \"react\";\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport {MAIN_URL} from \"../constants\";\r\nimport ClassroomPage from \"../pages/ClassroomPage\";\r\nimport ProfilePage from \"../pages/ProfilePages/ProfilePage\";\r\nimport CompetitionPage from \"../pages/CompetitionPage\";\r\nimport RatingPage from \"../pages/RatingPage\";\r\nimport LandingPage from \"../pages/LandingPage\";\r\nimport AdminStatisticsPage from \"../pages/AdminStatisticsPage\";\r\nimport AdminStatisticsRouter from \"./AdminStatisticsRouter\";\r\nimport StudentStatisticsPage from \"../pages/StudentStatisticsPage\";\r\n\r\nconst MainRouter = ({...p}) => {\r\n\r\n        // const MyRoute = ({component, ...props}) => {\r\n        //     return <Route component={() => component({...p})} {...props}/>\r\n        //     //return <Route component={RequestWrapper({children:(pr) => component({...pr})})} {...props}/>\r\n        // }\r\n\r\n        return <Switch>\r\n            <Route exact path={MAIN_URL.LANDING} component={LandingPage}/>\r\n            <Route exact path={MAIN_URL.CLASSROOM} component={ClassroomPage} />\r\n            <Route exact path={MAIN_URL.COMPETITION} component={CompetitionPage}/>\r\n            <Route exact path={MAIN_URL.RATING} component={RatingPage}/>\r\n            <Route exact path={MAIN_URL.PROFILE} component={ProfilePage}/>\r\n            <Route exact path={MAIN_URL.STATISTICS} component={StudentStatisticsPage}/>\r\n            <Route exact path={MAIN_URL.STATISTICS + \"/:section/\"} component={StudentStatisticsPage}/>\r\n            <Route exact path={MAIN_URL.STATISTICS + \"/:section/:period/\"} component={StudentStatisticsPage}/>\r\n            <Route exact path={MAIN_URL.STATISTICS + \"/:section/:period/:person/\"} component={StudentStatisticsPage}/>\r\n            <Route path={MAIN_URL.APP_STATISTICS} component={AdminStatisticsRouter}/>\r\n            {/*<Route exact path={MAIN_URL.ADMIN_PROFILE} component={AdminProfilePage}/>*/}\r\n\r\n            <Redirect to={MAIN_URL.CLASSROOM}/>\r\n        </Switch>\r\n};\r\n\r\n\r\nexport default MainRouter;\r\n","import {UPDATE_USER, VK_USER, SET_USER_DATA, REMOVE_USER} from \"../types\";\r\n\r\nconst initialState = {\r\n    name: \"\",\r\n    userName: \"\",\r\n    password: \"temppassword\",\r\n    avatar: \"https://img2.freepng.ru/20180420/krw/kisspng-computer-icons-mobile-app-development-android-my-account-icon-5ada4ab46cb066.5797683215242554124452.jpg\",\r\n    email: \"\",\r\n    loading: true,\r\n};\r\n\r\nexport const UserReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n            };\r\n        case UPDATE_USER:\r\n            return {\r\n                ...state,\r\n                name: action.payload.name,\r\n                userName: action.payload.userName,\r\n                password: action.payload.password,\r\n                email: action.payload.email,\r\n                loading: false,\r\n            };\r\n        case VK_USER:\r\n            return {\r\n                ...state,\r\n                name: action.payload.name,\r\n                userName: action.payload.userName,\r\n                loading: false,\r\n            };\r\n        case REMOVE_USER:\r\n            return {\r\n                ...state,\r\n                name: \"\",\r\n                userName: \"\",\r\n                password: \"\",\r\n                email: \"\",\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {DELETE_TOKEN, SET_TOKEN, SET_ERROR_TOKEN, SET_TOKEN_FROM_DB} from \"../types\";\r\n\r\nconst initialState = {\r\n    token: \"\",\r\n    userName: \"\",\r\n    loading: true,\r\n    error: false,\r\n};\r\n\r\nexport const TokenReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_TOKEN_FROM_DB:\r\n            return {\r\n                ...state,\r\n                token: action.token,\r\n                userName: action.userName,\r\n                loading: false,\r\n                error: false,\r\n            };\r\n        case SET_TOKEN:\r\n            return {\r\n                ...state,\r\n                token: action.token,\r\n                userName: action.userName,\r\n                loading: false,\r\n                error: false,\r\n            };\r\n        case DELETE_TOKEN:\r\n            return {\r\n                ...state,\r\n                token: \"\",\r\n                userName: \"\",\r\n            };\r\n\r\n        case SET_ERROR_TOKEN:\r\n            return {\r\n                ...state,\r\n                token: \"\",\r\n                userName: \"\",\r\n                error: action.error,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {ADD_NOTIFICATION, DELETE_NOTIFICATION, DELETE_ALL_NOTIFICATIONS} from \"../types\";\r\n\r\nconst initialState = {\r\n    notifications: [],\r\n    loading: false,\r\n    error: false,\r\n};\r\n\r\nexport const ContentReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_NOTIFICATION:\r\n            return {\r\n                ...state,\r\n                notifications: [...state.notifications, action.notification],\r\n                loading: false,\r\n                error: false,\r\n            };\r\n        case DELETE_NOTIFICATION:\r\n            return {\r\n                ...state,\r\n                notifications: state.notifications.filter(n => n.id !== action.notification.id),\r\n                loading: false,\r\n                error: false,\r\n            };\r\n        case DELETE_ALL_NOTIFICATIONS:\r\n            return {\r\n                ...state,\r\n                notifications: [],\r\n                loading: false,\r\n                error: false,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {SET_TIME, SET_MENU_ELEMENT_ID} from \"../types\";\r\n\r\nconst initialState = {\r\n    activeElemId: 0,\r\n    time: 7,\r\n    loading: false,\r\n    error: false,\r\n};\r\n\r\nexport const StatisticsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_TIME:\r\n            return {\r\n                ...state,\r\n                time: action.time,\r\n                loading: false,\r\n                error: false,\r\n            };\r\n        case SET_MENU_ELEMENT_ID:\r\n            return {\r\n                ...state,\r\n                activeElemId: action.activeElemId,\r\n                loading: false,\r\n                error: false,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {createStore, combineReducers, applyMiddleware} from 'redux';\r\nimport thunk from \"redux-thunk\";\r\nimport {UserReducer} from \"./reducers/user\";\r\nimport {TokenReducer} from \"./reducers/token\";\r\nimport {ContentReducer} from \"./reducers/content\";\r\nimport {StatisticsReducer} from \"./reducers/statistics\";\r\n\r\n// const store_name = \"MindON-user-v.1.0.0\";\r\n\r\nconst rootReducer = combineReducers({\r\n    content: ContentReducer,\r\n    user: UserReducer,\r\n    token: TokenReducer,\r\n    statistics: StatisticsReducer,\r\n});\r\n\r\nexport default createStore(rootReducer, applyMiddleware(thunk));\r\n\r\n//\r\n// const logger = store => next => action => {\r\n//     let result;\r\n//     console.groupCollapsed(\"dispatching\", action.type);\r\n//     console.log('prev state', store.getState());\r\n//     console.log('action', action);\r\n//     result = next(action);\r\n//     console.log('next state', store.getState());\r\n//     console.groupEnd();\r\n//     return result;\r\n// };\r\n//\r\n// const saver = store => next => action => {\r\n//     let result = next(action);\r\n//     localStorage[store_name] = JSON.stringify(store.getState());\r\n//     return result;\r\n// };\r\n//\r\n// const initStorage = (initialState = {}) => {\r\n//     if (localStorage.getItem(store_name) !== null) {\r\n//         return JSON.parse(localStorage.getItem(store_name));\r\n//     } else {\r\n//         localStorage.setItem(store_name, JSON.stringify(initialState));\r\n//         return initialState;\r\n//     }\r\n// };\r\n//\r\n// export const storeFactory = (initialState = {}) => (\r\n//     applyMiddleware(logger, saver)(createStore)(\r\n//         combineReducers({\r\n//             user,\r\n//             courses\r\n//         }),\r\n//         initStorage(initialState)\r\n//     )\r\n// );\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n// import {createBrowserHistory} from 'history';\r\n// import {useRouterHistory, Router, Route} from 'react-router';\r\nimport {BrowserRouter, HashRouter} from 'react-router-dom';\r\nimport MainRouter from \"./routers\";\r\nimport store from \"./store\"\r\nimport {Provider} from 'react-redux';\r\n// import { CookiesProvider as Provider } from 'react-cookie';\r\nimport Content from \"./components/Content\";\r\nimport {START_URL} from \"./constants\";\r\n\r\n\r\nReactDOM.render(\r\n    // <Provider>\r\n        <Provider store={store}>\r\n            {/*<Context.Provider value={startContext}>*/}\r\n            {/*<HashRouter basename={process.env.PUBLIC_URL}>*/}\r\n        {/*<RequestWrapper children={(props) => Content({...props, children:*/}\r\n        {/*        <BrowserRouter>*/}\r\n        {/*            <MainRouter/>*/}\r\n        {/*        </BrowserRouter>*/}\r\n        {/*})}/>*/}\r\n        <BrowserRouter basename={START_URL}>\r\n            {/*<RequestWrapper children={(props) => Content({...props, children: MainRouter})}/>*/}\r\n            <Content children={MainRouter}/>\r\n        </BrowserRouter>\r\n        {/*</HashRouter>*/}\r\n        {/*    </Context.Provider>*/}\r\n    </Provider>\r\n,\r\ndocument.getElementById('root'));\r\n\r\n"],"sourceRoot":""}